var Ze=Object.defineProperty;var We=(o,a,t)=>a in o?Ze(o,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[a]=t;var ee=(o,a,t)=>We(o,typeof a!="symbol"?a+"":a,t);import{N as et,r as M,O as ae,D as tt,P as lt,Q as at,S as nt,d as ce,p as ue,H as Y,a as P,f as n,T as w,b as e,U as A,V as qe,W as Ve,c as te,X as Q,Y as ge,Z as ot,$ as Ae,a0 as be,a1 as Se,e as me,a2 as Ee,a3 as st,a4 as he,a5 as H,a6 as X,a7 as pe,a8 as Te,a9 as ke,aa as rt,g as Pe,ab as Le,ac as Me,ad as He,o as it,G as de,ae as Ye,af as Ue,ag as dt,ah as ut,ai as ct,aj as le,ak as ie,al as pt,am as ft,an as Ie,ao as $e,ap as yt,aq as vt,ar as mt,as as ht,at as gt,au as bt,av as xt,aw as _t,ax as St,ay as qt}from"./components-DzZsUeBs.js";const De=et("EnvironmentStore",()=>{const o=M({name:"",host:"",authToken:"",isSelected:!1});return{environmentSetting:o,setEnvironmentSetting:t=>{o.value=t}}},{persist:!0}),G={async sendApi(o){const a=De();let t=null;const d=a.environmentSetting.host,s=tt();if(s.loggedInUser.accessToken=a.environmentSetting.authToken??"",o.httpMethod==="GET"){const r={query:o.requestParams};t=await ae().get(d+o.requestURL,{payload:r})}if(o.httpMethod==="POST")if(o.headersContentType==="form-data"){const r=o.requestParams,f=new FormData;for(const b in r)Array.isArray(r[b])&&r[b].length>0&&r[b][0]instanceof File?r[b].forEach(q=>{f.append(b,q)}):f.append(b,r[b]);const l={body:f};t=await ae().post(d+o.requestURL,{payload:l,headers:{Authorization:s.loggedInUser.accessToken}})}else{const r={body:o.requestParams};t=await ae().post(d+o.requestURL,{payload:r,headers:{Authorization:s.loggedInUser.accessToken}})}if(o.httpMethod==="PUT"){const r={body:o.requestParams};t=await ae().put(d+o.requestURL,{payload:r,headers:{Authorization:s.loggedInUser.accessToken}})}if(o.httpMethod==="DELETE"){const r={body:o.requestParams};t=await ae().delete(d+o.requestURL,{payload:r,headers:{Authorization:s.loggedInUser.accessToken}})}if(o.httpMethod==="GETFILE"){const r={query:o.requestParams};t=await ae().getFile(d+o.requestURL,{payload:r,headers:{Authorization:s.loggedInUser.accessToken}}),lt(t.data,o.donwloadFileName??"fileDownLoad")}return t},async getApiList(o){return new Promise((a,t)=>{J().then(d=>{const r=d.transaction("apiTable","readonly").objectStore("apiTable");if(o.requestURL||o.httpMethod||o.interfaceName||o.clientType){const f=[],b=r.index("requestURL").openCursor();b.onsuccess=q=>{const p=q==null?void 0:q.target.result;if(p){const m=p.value;let x=!0;for(const[g,v]of Object.entries(o))m[g]&&v&&!m[g].includes(v)&&(x=!1);x&&f.push(m),p.continue()}else a(f)},b.onerror=q=>t(q.target.error)}else{const f=r.getAll();f.onsuccess=()=>a(f.result),f.onerror=l=>t(l.target.error)}}).catch(d=>{t(d)})})},async getApiInfo(o){return new Promise((a,t)=>{J().then(d=>{const f=d.transaction("apiTable","readonly").objectStore("apiTable").get(o);f.onsuccess=()=>{const l=f.result,b={...l,request:l.request.map(q=>({...q})),response:l.response.map(q=>({...q})),requestExample:JSON.parse(l.requestExample),responseExample:JSON.parse(l.responseExample)};a(b)},f.onerror=l=>t(l.target.error)}).catch(d=>{t(d)})})},async createApi(o){return new Promise((a,t)=>{J().then(d=>{try{const r=d.transaction("apiTable","readwrite").objectStore("apiTable"),f={...o,request:o.request.map(b=>({...b,files:[]})),response:o.response.map(b=>({...b})),requestExample:JSON.stringify(o.requestExample),responseExample:JSON.stringify(o.responseExample)},l=r.add(f);l.onsuccess=b=>{a(l.result)},l.onerror=b=>{t(b.target.error)}}catch(s){t(s)}}).catch(d=>{t(d)})})},async updateApi(o){return new Promise((a,t)=>{J().then(d=>{try{const r=d.transaction("apiTable","readwrite").objectStore("apiTable"),f={...o,request:o.request.map(b=>({...b,files:[]})),response:o.response.map(b=>({...b})),requestExample:JSON.stringify(o.requestExample),responseExample:JSON.stringify(o.responseExample)},l=r.put(f);l.onsuccess=b=>{a(l.result)},l.onerror=b=>{t(b.target.error)}}catch(s){t(s)}}).catch(d=>{t(d)})})},async deleteApi(o){const s=(await J()).transaction("apiTable","readwrite").objectStore("apiTable").delete(o);s.onsuccess=r=>{},s.onerror=r=>{}},async checkDuplicateApi(o){(await J()).transaction("apiTable","readonly").objectStore("apiTable")},async getMenuList(){return await ae().get("/api/setting/menu")},async createMenu(o){const a={body:o};return await ae().post("/api/setting/menu",{payload:a})},async updateMenu(o){const a={body:o};return await ae().put("/api/setting/menu",{payload:a})},async deleteMenu(o){const a={query:o};return await ae().delete("/api/setting/menu",{payload:a})},async getHistoryList(){return new Promise((o,a)=>{J().then(t=>{const r=t.transaction("revisionHistory","readonly").objectStore("revisionHistory").getAll();r.onsuccess=()=>o(r.result),r.onerror=f=>a(f.target.error)}).catch(t=>{a(t)})})},async createHistory(o){const d=(await J()).transaction("revisionHistory","readwrite").objectStore("revisionHistory"),s={...o},r=d.add(s);r.onsuccess=f=>{},r.onerror=f=>{}},async updateHistory(o){const d=(await J()).transaction("revisionHistory","readwrite").objectStore("revisionHistory"),s={...o},r=d.put(s);r.onsuccess=f=>{},r.onerror=f=>{}},async deleteHistory(o){const s=(await J()).transaction("revisionHistory","readwrite").objectStore("revisionHistory").delete(o);s.onsuccess=r=>{},s.onerror=r=>{}},async getCoverPage(){return new Promise((o,a)=>{J().then(t=>{const r=t.transaction("coverPage","readonly").objectStore("coverPage").getAll();r.onsuccess=()=>o(r.result[0]),r.onerror=f=>a(f.target.error)}).catch(t=>{a(t)})})},async createCoverPage(o){const d=(await J()).transaction("coverPage","readwrite").objectStore("coverPage"),s={...o},r=d.add(s);r.onsuccess=f=>{},r.onerror=f=>{}},async updateCoverPage(o){const d=(await J()).transaction("coverPage","readwrite").objectStore("coverPage"),s={...o},r=d.put(s);r.onsuccess=f=>{},r.onerror=f=>{}},async getEnvironmentSettingList(){return new Promise((o,a)=>{J().then(t=>{const r=t.transaction("environmentSetting","readonly").objectStore("environmentSetting").getAll();r.onsuccess=()=>o(r.result),r.onerror=f=>a(f.target.error)}).catch(t=>{a(t)})})},async getEnvironmentSetting(o){return new Promise((a,t)=>{J().then(d=>{const f=d.transaction("environmentSetting","readonly").objectStore("environmentSetting").get(o);f.onsuccess=()=>a(f.result),f.onerror=l=>t(l.target.error)}).catch(d=>{t(d)})})},async createEnvironmentSetting(o){const d=(await J()).transaction("environmentSetting","readwrite").objectStore("environmentSetting"),s={...o},r=d.add(s);r.onsuccess=f=>{},r.onerror=f=>{}},async updateEnvironmentSetting(o){const d=(await J()).transaction("environmentSetting","readwrite").objectStore("environmentSetting"),s={...o},r=d.put(s);r.onsuccess=f=>{},r.onerror=f=>{}},async deleteEnvironmentSetting(o){const s=(await J()).transaction("environmentSetting","readwrite").objectStore("environmentSetting").delete(o);s.onsuccess=r=>{},s.onerror=r=>{}},async getFolders(){return new Promise((o,a)=>{J().then(t=>{const r=t.transaction("folders","readonly").objectStore("folders").getAll();r.onsuccess=()=>{o(r.result)},r.onerror=f=>a(f.target.error)}).catch(t=>{a(t)})})},async createFolder(o){const d=(await J()).transaction("folders","readwrite").objectStore("folders"),s={...o,children:[]},r=d.add(s);r.onsuccess=f=>{},r.onerror=f=>{}},async updateFolder(o){const d=(await J()).transaction("folders","readwrite").objectStore("folders"),s={...o,children:[]},r=d.put(s);r.onsuccess=f=>{},r.onerror=f=>{}},async deleteFolder(o){const s=(await J()).transaction("folders","readwrite").objectStore("folders").delete(o);s.onsuccess=r=>{},s.onerror=r=>{}}};let Re=null;function J(){return Re?Promise.resolve(Re):new Promise((o,a)=>{const t=indexedDB.open("PostApiDB",6);t.onupgradeneeded=d=>{const s=d.target.result;if(!s.objectStoreNames.contains("apiTable")){const r=s.createObjectStore("apiTable",{keyPath:"id",autoIncrement:!0});r.createIndex("requestURL","requestURL",{unique:!1}),r.createIndex("interfaceName","interfaceName",{unique:!1})}s.objectStoreNames.contains("revisionHistory")||s.createObjectStore("revisionHistory",{keyPath:"id",autoIncrement:!0}),s.objectStoreNames.contains("coverPage")||s.createObjectStore("coverPage",{keyPath:"id",autoIncrement:!0}),s.objectStoreNames.contains("environmentSetting")||s.createObjectStore("environmentSetting",{keyPath:"id",autoIncrement:!0}),s.objectStoreNames.contains("folders")||s.createObjectStore("folders",{keyPath:"id",autoIncrement:!0})},t.onsuccess=d=>{Re=d.target.result,o(d.target.result)},t.onerror=d=>{a(d.target.error)}})}class fe{constructor(){ee(this,"apiList",[]);ee(this,"apiItem",{interfaceName:"",description:"",header:'{ "Authorization" : {{accessKey}} }',requestURL:"",httpMethod:"",donwloadFileName:"",clientType:"",headersContentType:"json",testResult:"",request:[{paramId:this.createId(),parentParamId:"",parameter:"",testValue:null,files:[],level:1,requiredYn:"",type:"",description:"",childrenCount:0,valid:!0}],response:[{variableId:this.createId(),parentVariableId:"",variable:"",testValue:null,level:1,requiredYn:"",type:"",description:"",childrenCount:0,valid:!0}],requestExample:{},responseExample:""});ee(this,"resultData",{});ee(this,"httpMethodList",[{label:"GET",value:"GET"},{label:"POST",value:"POST"},{label:"PUT",value:"PUT"},{label:"DELETE",value:"DELETE"},{label:"GETFILE",value:"GETFILE"}]);ee(this,"clientTypeList",[{label:"관제",value:"관제"},{label:"APP",value:"APP"},{label:"IoT",value:"IoT"},{label:"공통",value:"공통"},{label:"기타",value:"기타"}]);ee(this,"headersContentTypeList",[{label:"application/json",value:"json"},{label:"multipart/form-data",value:"form-data"}]);ee(this,"menuList",[]);ee(this,"menuItem",{id:0,title:"",titleEn:"",path:"",icon:"",stp:0,useYn:"Y"});ee(this,"historyList",[]);ee(this,"coverPageInfo",{title1:"",title2:"",version:"",publishDate:"",creater:"",reviewer:"",approver:"",copyright:"",copyrightDescription:""});ee(this,"environmentSetting",{name:"",host:"",authToken:"",isSelected:!1});ee(this,"environmentSettingList",[]);ee(this,"folders",[]);ee(this,"treeFolders",[])}async sendData(a){const{httpMethod:t,headersContentType:d,donwloadFileName:s,requestURL:r,requestParams:f}=a,l={httpMethod:t,headersContentType:d,donwloadFileName:s,requestURL:r,requestParams:f},b=await G.sendApi(l);return this.resultData=b,b}async getApiList(a){const t=await G.getApiList(a);this.apiList=t}async getApiInfo(a){return await G.getApiInfo(a)}async createApi(a){return await G.createApi(a)}async updateApi(a){return await G.updateApi(a)}async deleteApi(a){return await G.deleteApi(a)}createId(){return new Date().getTime().toString()}async getMenuList(){const a=await G.getMenuList();this.menuList=a.data[0].children??[]}async getHistoryList(){const a=await G.getHistoryList();this.historyList=a}async createHistory(a){return await G.createHistory(a)}async updateHistory(a){return await G.updateHistory(a)}async deleteHistory(a){return await G.deleteHistory(a)}async getCoverPage(){const a=await G.getCoverPage();this.coverPageInfo=Object.assign({},this.coverPageInfo,a)}async createCoverPage(a){return await G.createCoverPage(a)}async updateCoverPage(a){return await G.updateCoverPage(a)}async getEnvironmentSettingList(){const a=await G.getEnvironmentSettingList();this.environmentSettingList=a}async getEnvironmentSetting(){await this.getEnvironmentSettingList();const a=this.environmentSettingList.find(t=>t.isSelected===!0);this.environmentSetting=Object.assign({},this.environmentSetting,a)}async createEnvironmentSetting(a){return await G.createEnvironmentSetting(a)}async updateEnvironmentSetting(a){return await G.updateEnvironmentSetting(a)}async deleteEnvironmentSetting(a){return await G.deleteEnvironmentSetting(a)}async getFolders(){const a=await G.getFolders();if(a){this.treeFolders=[],this.folders=a;const t=new Map;this.folders.forEach(d=>{t.set(d.folderId,d)}),this.folders.forEach(d=>{if(!d.parentFolderId)this.treeFolders.push(d);else{const s=t.get(d.parentFolderId);s&&s.children.push(d)}})}}async createFolder(a){return await G.createFolder(a)}async updateFolder(a){return await G.updateFolder(a)}async deleteFolder(a){return await G.deleteFolder(a)}}let Vt=at(()=>import("./XLSX.min-DlkljAZK.js"),[],import.meta.url),ze=document.createElement("script");ze.contains=Vt;document.head.appendChild(ze);let Ne={};Ne.make=function(o,a){let t=XLSX.utils.book_new();t.Props={Title:a,Subject:a,Author:"Dev.monter",CreatedDate:new Date};let d=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","AA","AB","AC","AD","AE","AF","AG","AH","AI","AJ","AK","AL","AM","AN","AO","AP","AQ","AR","AS","AT","AU","AV","AW","AX","AY","AZ"];o.forEach(function(s){let r=0,f=s.data.length,l={},b=[];s.data.forEach(function(p,m){let x=m,g=-1;p.forEach(function(v){g++;for(let h=0;h<b.length;h++){let T=b[h];T.s.c<=g&&g<=T.e.c&&T.s.r<=x&&x<=T.e.r&&(g+=T.e.c-g+1)}let c=d[g]+String(x+1);l[c]||(l[c]={t:"s",v:v.text||"",s:{alignment:{wrapText:!0}},l:{Target:v.link||""}}),v.img&&(l["!images"]||(l["!images"]=[]),l["!images"].push({"!link":v.img.src,"!pos":{c:g,r:x,x:v.img.left,y:v.img.top,w:v.img.width,h:v.img.height},"!datatype":"remote"}));for(let h in v.style)switch(h){case"backgroundColor":l[c].s.fgColor={rgb:v.style[h].replace("#","")};break;case"border":var k=v.style[h].split(" "),L="",C=k[2].replace("#","");k[0]==="1px"?L="thin":k[0]==="2px"?L="medium":L="thick",v.colspan=v.colspan||1,v.rowspan=v.rowspan||1;for(let T=0;T<v.colspan;T++){let R=g+T,E=d[R]+String(x+1);l[E]||(l[E]={t:"s",s:{},v:"undefined"}),l[E].s.top={style:L,color:{rgb:C}},l[E].s.bottom={style:L,color:{rgb:C}},l[E].s.left={style:L,color:{rgb:C}},l[E].s.right={style:L,color:{rgb:C}},r<R&&(r=R);for(let z=0;z<v.rowspan;z++){let O=x+1+z,W=d[R]+String(O);l[W]||(l[W]={t:"s",s:{},v:"undefined"}),l[W].s.top={style:L,color:{rgb:C}},l[W].s.bottom={style:L,color:{rgb:C}},l[W].s.left={style:L,color:{rgb:C}},l[W].s.right={style:L,color:{rgb:C}},f<x+1+z&&(f=x+1+z)}}break;case"borderTop":case"borderLeft":case"borderBottom":case"borderRight":var $="";h==="borderTop"?$="top":h==="borderLeft"?$="left":h==="borderBottom"?$="bottom":h==="borderRight"&&($="right");var U=v.style[h].split(" "),I="",V=U[2].replace("#","");if(U[0]==="1px"?I="thin":U[0]==="2px"?I="medium":I="thick",l[c].s[$]={style:I,color:{rgb:V}},h==="borderTop"||h==="borderBottom")for(let T=1;T<v.colspan;T++){let R=d[g+T]+String(x+1);l[R]||(l[R]={t:"s",s:{},v:"undefined",z:"General"}),l[R].s[$]={style:I,color:{rgb:V}}}if(h==="borderLeft"||h==="borderRight")for(let T=1;T<v.rowspan;T++){let R=d[g]+String(x+1+T);l[R]||(l[R]={t:"s",s:{},v:"undefined",z:"General"}),l[R].s[$]={style:I,color:{rgb:V}}}break;case"textAlign":l[c].s.alignment||(l[c].s.alignment={}),l[c].s.alignment.horizontal=v.style[h];break;case"verticalAlign":switch(l[c].s.alignment||(l[c].s.alignment={}),v.style[h]){case"middle":l[c].s.alignment.vertical="center";break;default:l[c].s.alignment.vertical=v.style[h];break}break;case"width":l["!cols"]||(l["!cols"]=[]),typeof v.style[h]=="number"?l["!cols"][g]={wpx:v.style[h]}:v.style[h]==="auto"&&(l["!cols"][g]={auto:1});break;case"height":l["!rows"]||(l["!rows"]=[]),typeof v.style[h]=="number"?l["!rows"][x]={hpx:v.style[h]}:v.style[h]==="auto"&&(l["!rows"][x]={auto:1});break;case"fontSize":l[c].s.sz=v.style[h];break;case"underline":l[c].s.underline=v.style[h];break;case"color":l[c].s.color={theme:1,rgb:v.style[h].replace("#","")};break;case"fontFamily":l[c].s.name=v.style[h];break;case"fontWeight":v.style[h]==="bold"&&(l[c].s.bold=1);break;case"whiteSpace":v.style[h]==="nowrap"&&(l[c].s.alignment.wrapText=!1);break}if(v.colspan>1||v.rowspan>1){let h={c:g,r:x},T={c:v.colspan?g+v.colspan-1:g,r:v.rowspan?x+v.rowspan-1:x};b.push({s:h,e:T})}}),r<g&&(r=g)});let q=`A1:${d[r]}${f}`;l["!ref"]=q,l["!merges"]=b,t.SheetNames.push(s.name),t.Sheets[s.name]=l}),XLSX.writeFile(t,a+".xlsx",{cellStyles:!0,bookImages:!0,bookSST:!1})};const Et=(o,a,t)=>{const d=o.request??[],s=o.response??[],r={height:24,width:1},f={verticalAlign:"middle",textAlign:"center",backgroundColor:"#b8cce4",fontSize:18,fontWeight:"bold",border:"1px solid #000000",height:24},l={verticalAlign:"middle",textAlign:"center",backgroundColor:"#d1d1d1",fontSize:12,fontWeight:"bold",border:"1px solid #000000"},b={textAlign:"center",border:"1px solid #000000",verticalAlign:"middle",backgroundColor:"#f1f1f1",fontWeight:"bold",fontSize:10},q={textAlign:"center",border:"1px solid #000000",verticalAlign:"middle",backgroundColor:"#f1f1f1",fontSize:10,width:140,height:24},p={textAlign:"left",border:"1px solid #000000",verticalAlign:"middle",fontSize:10,width:140,height:24},m={width:140,fontSize:10,textAlign:"center",border:"1px solid #000000",verticalAlign:"middle"},x={height:400,verticalAlign:"middle",border:"1px solid #000000"},g={name:"Sheet1",data:[]};a&&(g.data.push([{text:a??"",colspan:7,rowspan:2,style:Object.assign({},f)},{},{},{},{},{},{}]),g.data.push([{style:r},{},{},{},{},{},{}])),[[{text:"인터페이스명",style:q},{text:o.interfaceName??"",colspan:6,style:p},{},{},{},{},{}],[{text:"설명",style:q},{text:o.description??"",colspan:6,style:p},{},{},{},{},{}],[{text:"Header",style:q},{text:o.header??"",colspan:6,style:p},{},{},{},{},{}],[{text:"Request URL",style:q},{text:o.requestURL??"",colspan:6,style:p},{},{},{},{},{}],[{text:"HTTP Method",style:q},{text:o.httpMethod??"",colspan:2,style:p},{text:"Required",style:q},{text:"Y: 필수",colspan:3,style:p},{},{},{}],[{text:"Request",colspan:7,style:Object.assign({},l,{height:30})},{},{},{},{},{},{}],[{text:"Parameter",colspan:4,style:b},{text:"Required",style:b},{text:"Type",style:b},{text:"Description",style:b},{},{},{}]].forEach(c=>{g.data.push(c)}),d.forEach(c=>{c.level===1&&g.data.push([{text:c.parameter??"",style:m},{text:"",style:m},{text:"",style:m},{text:"",style:m},{text:c.requiredYn??"",style:m},{text:c.type??"",style:m},{text:c.description??"",style:m}]),c.level===2&&g.data.push([{text:"",style:m},{text:c.parameter??"",style:m},{text:"",style:m},{text:"",style:m},{text:c.requiredYn??"",style:m},{text:c.type??"",style:m},{text:c.description??"",style:m}]),c.level===3&&g.data.push([{text:"",style:m},{text:"",style:m},{text:c.parameter??"",style:m},{text:"",style:m},{text:c.requiredYn??"",style:m},{text:c.type??"",style:m},{text:c.description??"",style:m}]),c.level===4&&g.data.push([{text:"",style:m},{text:"",style:m},{text:"",style:m},{text:c.parameter??"",style:m},{text:c.requiredYn??"",style:m},{text:c.type??"",style:m},{text:c.description??"",style:m}])}),g.data.push([{text:"Response",colspan:7,style:Object.assign({},l,{height:30})},{},{},{},{},{},{}]),g.data.push([{text:"Variable",colspan:4,style:b},{text:"Required",style:b},{text:"Type",style:b},{text:"Description",style:b},{},{},{}]),s.forEach(c=>{c.level===1&&g.data.push([{text:c.variable??"",style:m},{text:"",style:m},{text:"",style:m},{text:"",style:m},{text:c.requiredYn??"",style:m},{text:c.type??"",style:m},{text:c.description??"",style:m}]),c.level===2&&g.data.push([{text:"",style:m},{text:c.variable??"",style:m},{text:"",style:m},{text:"",style:m},{text:c.requiredYn??"",style:m},{text:c.type??"",style:m},{text:c.description??"",style:m}]),c.level===3&&g.data.push([{text:"",style:m},{text:"",style:m},{text:c.variable??"",style:m},{text:"",style:m},{text:c.requiredYn??"",style:m},{text:c.type??"",style:m},{text:c.description??"",style:m}]),c.level===4&&g.data.push([{text:"",style:m},{text:"",style:m},{text:"",style:m},{text:c.variable??"",style:m},{text:c.requiredYn??"",style:m},{text:c.type??"",style:m},{text:c.description??"",style:m}])}),g.data.push([{text:"Request Example",colspan:7,style:Object.assign({},l,{height:30})},{},{},{},{},{},{}]),g.data.push([{text:`${o.requestExample?JSON.stringify(o.requestExample??"",null,2):""}`,colspan:7,style:x},{},{},{},{},{},{}]),g.data.push([{text:"Response Example",colspan:7,style:Object.assign({},l,{height:30})},{},{},{},{},{},{}]),g.data.push([{text:`${o.responseExample?JSON.stringify(o.responseExample??"",null,2):""}`,colspan:7,style:x},{},{},{},{},{},{}]),Ne.make([g],t)},Tt=(o,a,t,d)=>{var I;const s={height:24,width:1},r={verticalAlign:"middle",textAlign:"center",backgroundColor:"#b8cce4",fontSize:18,fontWeight:"bold",borderLeft:"1px solid #000000",borderBottom:"1px solid #000000",borderTop:"1px solid #000000",height:24,fontFamily:"맑은 고딕"},f={verticalAlign:"middle",textAlign:"center",backgroundColor:"#d1d1d1",fontSize:11,fontWeight:"bold",border:"1px solid #000000",fontFamily:"맑은 고딕"},l={textAlign:"center",border:"1px solid #000000",verticalAlign:"middle",backgroundColor:"#f1f1f1",fontWeight:"bold",fontSize:10,fontFamily:"맑은 고딕"},b={textAlign:"center",border:"1px solid #000000",verticalAlign:"middle",backgroundColor:"#f1f1f1",fontSize:10,width:140,height:24,fontFamily:"맑은 고딕"},q={textAlign:"left",border:"1px solid #000000",verticalAlign:"middle",fontSize:10,width:140,height:24,fontFamily:"맑은 고딕"},p={width:140,fontSize:10,textAlign:"center",border:"1px solid #000000",verticalAlign:"middle",fontFamily:"맑은 고딕"},m={height:350,verticalAlign:"middle",border:"1px solid #000000"},x=[],g={verticalAlign:"center",textAlign:"left",fontSize:28,fontWeight:"bold",height:80,width:350,backgroundColor:"#f9f9f9",fontFamily:"맑은 고딕"},v={verticalAlign:"center",textAlign:"center",fontSize:11,height:20,width:140,border:"1px solid #000000",backgroundColor:"#f9f9f9",fontFamily:"맑은 고딕"},c={backgroundColor:"#f9f9f9",height:30},k={backgroundColor:"#f9f9f9",width:40},L={verticalAlign:"center",textAlign:"center",fontSize:8,height:24,backgroundColor:"#f9f9f9",fontFamily:"맑은 고딕"},C={name:"표지",data:[]};C.data.push([{text:"",colspan:8,style:c}]),C.data.push([{text:"",colspan:8,style:c}]),C.data.push([{text:"",colspan:8,style:c}]),C.data.push([{text:"",colspan:8,style:c}]),C.data.push([{text:"",style:k},{text:o.title1??"",colspan:7,style:Object.assign({},g)}]),C.data.push([{text:"",style:k},{text:o.title2??"",colspan:7,style:Object.assign({},g,{borderBottom:"1px solid #000000"})}]),C.data.push([{text:"",style:k},{text:o.version??"",colspan:7,style:Object.assign({},g,{fontSize:30})}]),C.data.push([{text:"",colspan:8,style:Object.assign({},c)}]),C.data.push([{text:"",colspan:5,style:c},{text:"배 포 일",style:v},{text:((I=nt(o.publishDate))==null?void 0:I.format("YYYY-MM-DD"))??"",style:v},{text:"",style:k}]),C.data.push([{text:"",colspan:5,style:c},{text:"작 성 자",style:v},{text:o.creater??"",style:v},{text:"",style:k}]),C.data.push([{text:"",colspan:5,style:c},{text:"검 토 자",style:v},{text:o.reviewer??"",style:v},{text:"",style:k}]),C.data.push([{text:"",colspan:5,style:c},{text:"승 인 자",style:v},{text:o.approver??"",style:v},{text:"",style:k}]),C.data.push([{text:"",colspan:8,style:c}]),C.data.push([{text:"",colspan:8,style:c}]),C.data.push([{text:o.copyright??"",colspan:8,style:Object.assign({},L,{borderTop:"1px solid #000000"})}]),C.data.push([{text:o.copyrightDescription??"",colspan:8,style:Object.assign({},L)}]),x.push(C);const $={name:"개정이력",data:[]};$.data.unshift([{style:s}]),$.data.unshift([{text:$.name??"",colspan:7,rowspan:2,style:Object.assign({},r)},{style:s}]),$.data.push([{text:"버전",style:f},{text:"변경일",style:f},{text:"구분",style:f},{text:"내용",style:f},{text:"작성자",style:f},{text:"검토자",style:f},{text:"승인자",style:f}]),a.forEach(V=>{$.data.push([{text:V.version??"",style:p},{text:V.updateDate??"",style:p},{text:V.updateType??"",style:p},{text:V.content??"",style:Object.assign({},p,{width:500})},{text:V.creater??"",style:p},{text:V.reviewer??"",style:p},{text:V.approver??"",style:p}])}),x.push($);const U={name:"인터페이스 목록",data:[]};U.data.unshift([{style:s}]),U.data.unshift([{text:U.name??"",colspan:5,rowspan:2,style:Object.assign({},r)},{style:s}]),U.data.push([{text:"인터페이스 명",style:f},{text:"Request URL",style:f},{text:"Http Method",style:f},{text:"설명",style:f},{text:"구분",style:f}]),t.forEach(V=>{U.data.push([{text:V.interfaceName??"",style:Object.assign({},p,{width:300})},{text:V.requestURL??"",link:`#${V.requestURL??""}!G1`,style:Object.assign({},p,{underline:!0,width:400})},{text:V.httpMethod??"",style:p},{text:V.description??"",style:Object.assign({},p,{width:500})},{text:V.clientType??"",style:p}])}),x.push(U);for(const V of t){const h=V.request??[],T=V.response??[],R=V.requestExample?JSON.parse(V.requestExample):"",E=V.responseExample?JSON.parse(V.responseExample):"",z=V.interfaceName??"",O={name:V.interfaceName??"",data:[]};z&&(O.data.unshift([{style:s}]),O.data.unshift([{text:z,colspan:6,rowspan:2,style:Object.assign({},r)},{text:"목록",link:"#인터페이스 목록!A1",rowspan:2,style:{fontSize:12,textAlign:"center",backgroundColor:"#b8cce4",underline:!0,color:"red",borderRight:"1px solid #000000",verticalAlign:"middle"}},{style:s}]));const W=[[{text:"인터페이스명",style:b},{text:V.interfaceName??"",colspan:6,style:q}],[{text:"설명",style:b},{text:V.description??"",colspan:6,style:q}],[{text:"Header",style:b},{text:V.header??"",colspan:6,style:q}],[{text:"Request URL",style:b},{text:V.requestURL??"",colspan:6,style:q}],[{text:"HTTP Method",style:b},{text:V.httpMethod??"",colspan:2,style:q},{text:"Required",style:b},{text:"Y: 필수",colspan:3,style:q}],[{text:"Request",colspan:7,style:Object.assign({},f,{height:30})}],[{text:"Parameter",colspan:4,style:l},{text:"Required",style:l},{text:"Type",style:l},{text:"Description",style:l}]];O.data.push(...W),h.forEach(S=>{S.level===1&&O.data.push([{text:S.parameter??"",style:p},{text:"",style:p},{text:"",style:p},{text:"",style:p},{text:S.requiredYn??"",style:p},{text:S.type??"",style:p},{text:S.description??"",style:p}]),S.level===2&&O.data.push([{text:"",style:p},{text:S.parameter??"",style:p},{text:"",style:p},{text:"",style:p},{text:S.requiredYn??"",style:p},{text:S.type??"",style:p},{text:S.description??"",style:p}]),S.level===3&&O.data.push([{text:"",style:p},{text:"",style:p},{text:S.parameter??"",style:p},{text:"",style:p},{text:S.requiredYn??"",style:p},{text:S.type??"",style:p},{text:S.description??"",style:p}]),S.level===4&&O.data.push([{text:"",style:p},{text:"",style:p},{text:"",style:p},{text:S.parameter??"",style:p},{text:S.requiredYn??"",style:p},{text:S.type??"",style:p},{text:S.description??"",style:p}])}),O.data.push([{text:"Response",colspan:7,style:Object.assign({},f,{height:30})}]),O.data.push([{text:"Variable",colspan:4,style:l},{text:"Required",style:l},{text:"Type",style:l},{text:"Description",style:l}]),T.forEach(S=>{S.level===1&&O.data.push([{text:S.variable??"",style:p},{text:"",style:p},{text:"",style:p},{text:"",style:p},{text:S.requiredYn??"",style:p},{text:S.type??"",style:p},{text:S.description??"",style:p}]),S.level===2&&O.data.push([{text:"",style:p},{text:S.variable??"",style:p},{text:"",style:p},{text:"",style:p},{text:S.requiredYn??"",style:p},{text:S.type??"",style:p},{text:S.description??"",style:p}]),S.level===3&&O.data.push([{text:"",style:p},{text:"",style:p},{text:S.variable??"",style:p},{text:"",style:p},{text:S.requiredYn??"",style:p},{text:S.type??"",style:p},{text:S.description??"",style:p}]),S.level===4&&O.data.push([{text:"",style:p},{text:"",style:p},{text:"",style:p},{text:S.variable??"",style:p},{text:S.requiredYn??"",style:p},{text:S.type??"",style:p},{text:S.description??"",style:p}])}),O.data.push([{text:"Request Example",colspan:7,style:Object.assign({},f,{height:30})}]),O.data.push([{text:`${V.requestExample?JSON.stringify(R??"",null,2):""}`,colspan:7,style:m}]),O.data.push([{text:"Response Example",colspan:7,style:Object.assign({},f,{height:30})}]),O.data.push([{text:`${V.responseExample?JSON.stringify(E??"",null,2):""}`,colspan:7,style:m}]),x.push(O)}Ne.make(x,d)},kt={key:0},wt={key:0},Ct={key:0},Rt={key:0},It={key:0},At={key:0},Pt={key:0},Lt=ce({__name:"RevisionHistoryDialog",setup(o,{expose:a}){const t=ue(new fe),d=M(!1),s=()=>({version:"",updateDate:"",updateType:"",content:"",creater:"",reviewer:"",approver:""}),r=M(0),f=c=>{r.value=c.scrollTop},l=M(null),b=()=>{t.historyList.push(s()),st(()=>{l.value.setScrollTop(r.value+100)})},q=c=>{Object.keys(c.row).includes("id")?he("삭제하시겠습니까","확인","YN").onConfirm(()=>{t.deleteHistory(c.row.id).then(k=>{H.success("삭제 성공"),t.getHistoryList()}).catch(k=>{H.error(k)})}).onCancel(()=>{}):t.historyList.splice(c.$index,1)},p=()=>{const c=t.historyList.filter(L=>!("id"in L));let k=!0;c.forEach(L=>{if(!L.version||!L.updateType||!L.content||!L.creater){H.error("필수값이 누락되어 있습니다."),k=!1;return}}),k&&he("저장하시겠습니까","확인","YN").onConfirm(()=>{c.forEach(L=>{t.createHistory(L).then(C=>{X.success("저장 성공"),t.getHistoryList()}).catch(C=>{H.error(C)})})}).onCancel(()=>{})},m=(c,k)=>{c.updateType=k},x=()=>{g()},g=()=>{d.value=!1};return a({openDialog:async()=>{d.value=!0,t.getHistoryList()}}),(c,k)=>{const L=ge,C=Ve,$=ot,U=Ae,I=be,V=qe;return P(),Y(me(Ee),{"model-value":d.value,title:"개정이력",description:"",width:"1300",style:{height:"90%"},buttonTypes:["저장","취소"],onOnSave:p,onOnCancel:x,onOnClose:g},{default:n(()=>[k[6]||(k[6]=w("ol",{class:"page-description"},[w("li",null,[A(" 버전: 초안은 0.1으로 표시 하고, 검토 된 이후 승인을 득한 이후에는 1.0부터 시작하여 정수 단위로 변경 관리 함."),w("br"),A(" 변경 발생 시, 소수점 아래 번호로 관리하고, 목차 내용이 바뀔 정도의 큰 변경이 발생하면 상위 정수를 변경 함. (예, V1.2 : 2번 수정됨, 목차 내용이 변경되면 V2.0 이 됨) ")]),w("li",null,"구분 : 변경 내용이 이전 문서에 대해 신규/추가/수정/삭제 인지 선택 기입"),w("li",null,"내용 : 변경 내용을 자세히 기록(변경된 회의록, 면담 위치, 즉 페이지 번호와 변경 내용을 기술한다.)")],-1)),e(V,{ref_key:"tableRef",ref:l,data:t.historyList,onScroll:f},{default:n(()=>[e(C,{prop:"version",width:"80"},{header:n(()=>k[0]||(k[0]=[A(" 버전 ",-1),w("span",{style:{color:"red"}},"*",-1)])),default:n(({row:h})=>[h.id?(P(),te("div",kt,Q(h.version),1)):(P(),Y(L,{key:1,modelValue:h.version,"onUpdate:modelValue":T=>h.version=T},null,8,["modelValue","onUpdate:modelValue"]))]),_:1}),e(C,{prop:"updateDate",label:"변경일",width:"150"},{default:n(({row:h})=>[h.id?(P(),te("div",wt,Q(h.updateDate),1)):(P(),Y($,{key:1,width:"130px",modelValue:h.updateDate,"onUpdate:modelValue":T=>h.updateDate=T,type:"date",placeholder:"변경일 선택"},null,8,["modelValue","onUpdate:modelValue"]))]),_:1}),e(C,{prop:"updateType",width:"180"},{header:n(()=>k[1]||(k[1]=[A(" 구분 ",-1),w("span",{style:{color:"red"}},"*",-1)])),default:n(({row:h})=>[h.id?(P(),te("div",Ct,Q(h.updateType),1)):(P(),Y(U,{key:1,width:"160px",modelValue:h.clientType,"onUpdate:modelValue":T=>h.clientType=T,placeholder:"Client Type 선택",list:t.clientTypeList,"option-label":"label","option-value":"value",onOnChange:T=>m(h,T)},null,8,["modelValue","onUpdate:modelValue","list","onOnChange"]))]),_:1}),e(C,{prop:"content"},{header:n(()=>k[2]||(k[2]=[A(" 내용 ",-1),w("span",{style:{color:"red"}},"*",-1)])),default:n(({row:h})=>[h.id?(P(),te("div",Rt,Q(h.content),1)):(P(),Y(L,{key:1,modelValue:h.content,"onUpdate:modelValue":T=>h.content=T},null,8,["modelValue","onUpdate:modelValue"]))]),_:1}),e(C,{prop:"creater",width:"120"},{header:n(()=>k[3]||(k[3]=[A(" 작성자 ",-1),w("span",{style:{color:"red"}},"*",-1)])),default:n(({row:h})=>[h.id?(P(),te("div",It,Q(h.creater),1)):(P(),Y(L,{key:1,modelValue:h.creater,"onUpdate:modelValue":T=>h.creater=T},null,8,["modelValue","onUpdate:modelValue"]))]),_:1}),e(C,{prop:"reviewer",label:"검토자",width:"120"},{default:n(({row:h})=>[h.id?(P(),te("div",At,Q(h.reviewer),1)):(P(),Y(L,{key:1,modelValue:h.reviewer,"onUpdate:modelValue":T=>h.reviewer=T},null,8,["modelValue","onUpdate:modelValue"]))]),_:1}),e(C,{prop:"approver",label:"승인자",width:"120"},{default:n(({row:h})=>[h.id?(P(),te("div",Pt,Q(h.approver),1)):(P(),Y(L,{key:1,modelValue:h.approver,"onUpdate:modelValue":T=>h.approver=T},null,8,["modelValue","onUpdate:modelValue"]))]),_:1}),e(C,{width:"120"},{default:n(h=>[e(I,{type:"danger",plain:"",onClick:Se(T=>q(h),["prevent"])},{default:n(()=>k[4]||(k[4]=[A(" 삭제 ",-1)])),_:2,__:[4]},1032,["onClick"])]),_:1})]),_:1},8,["data"]),e(I,{type:"success",plain:"",style:{width:"100%"},onClick:b},{default:n(()=>k[5]||(k[5]=[A(" 추가 ",-1)])),_:1,__:[5]})]),_:1,__:[6]},8,["model-value"])}}}),Ut=pe(Lt,[["__scopeId","data-v-7b0f9c7b"]]),Dt=ce({__name:"CoverPageDialog",setup(o,{expose:a}){const t=ue(new fe),d=M(!1),s=()=>{he("저장하시겠습니까","확인","YN").onConfirm(()=>{t.coverPageInfo.id?t.updateCoverPage(t.coverPageInfo).then(b=>{X.success("저장 성공"),f()}).catch(b=>{H.error(b)}):t.createCoverPage(t.coverPageInfo).then(b=>{X.success("저장 성공"),f()}).catch(b=>{H.error(b)})}).onCancel(()=>{})},r=()=>{f()},f=()=>{d.value=!1};return a({openDialog:async()=>{d.value=!0,t.getCoverPage()}}),(b,q)=>{const p=ge,m=ke,x=rt,g=Te;return P(),Y(me(Ee),{"model-value":d.value,title:"표지",description:"",width:"800",style:{height:"70%"},buttonTypes:["저장","취소"],onOnSave:s,onOnCancel:r,onOnClose:f},{default:n(()=>[e(g,{class:"detail-form",model:t.coverPageInfo,ref:"ruleFormRef","label-position":"left",size:"large","label-width":"auto","require-asterisk-position":"right"},{default:n(()=>[e(m,{prop:"title1",label:"타이틀1"},{default:n(()=>[e(p,{modelValue:t.coverPageInfo.title1,"onUpdate:modelValue":q[0]||(q[0]=v=>t.coverPageInfo.title1=v),placeholder:"타이틀을 입력해주세요"},null,8,["modelValue"])]),_:1}),e(m,{prop:"title2",label:"타이틀2"},{default:n(()=>[e(p,{modelValue:t.coverPageInfo.title2,"onUpdate:modelValue":q[1]||(q[1]=v=>t.coverPageInfo.title2=v),placeholder:"타이틀을 입력해주세요"},null,8,["modelValue"])]),_:1}),e(m,{prop:"version",label:"버전"},{default:n(()=>[e(p,{modelValue:t.coverPageInfo.version,"onUpdate:modelValue":q[2]||(q[2]=v=>t.coverPageInfo.version=v),placeholder:"버전을 입력해주세요"},null,8,["modelValue"])]),_:1}),e(m,{prop:"publishDate",label:"배포일"},{default:n(()=>[e(x,{modelValue:t.coverPageInfo.publishDate,"onUpdate:modelValue":q[3]||(q[3]=v=>t.coverPageInfo.publishDate=v),type:"date",placeholder:"배포일 선택"},null,8,["modelValue"])]),_:1}),e(m,{prop:"creater",label:"작성자"},{default:n(()=>[e(p,{modelValue:t.coverPageInfo.creater,"onUpdate:modelValue":q[4]||(q[4]=v=>t.coverPageInfo.creater=v),placeholder:"작성자를 입력해주세요"},null,8,["modelValue"])]),_:1}),e(m,{prop:"reviewer",label:"검토자"},{default:n(()=>[e(p,{modelValue:t.coverPageInfo.reviewer,"onUpdate:modelValue":q[5]||(q[5]=v=>t.coverPageInfo.reviewer=v),placeholder:"검토자를 입력해주세요"},null,8,["modelValue"])]),_:1}),e(m,{prop:"approver",label:"승인자"},{default:n(()=>[e(p,{modelValue:t.coverPageInfo.approver,"onUpdate:modelValue":q[6]||(q[6]=v=>t.coverPageInfo.approver=v),placeholder:"승인자를 입력해주세요"},null,8,["modelValue"])]),_:1}),e(m,{prop:"copyright",label:"Copyright"},{default:n(()=>[e(p,{modelValue:t.coverPageInfo.copyright,"onUpdate:modelValue":q[7]||(q[7]=v=>t.coverPageInfo.copyright=v),placeholder:"Copyright를 입력해주세요"},null,8,["modelValue"])]),_:1}),e(m,{prop:"copyrightDescription",label:"Copyright 설명"},{default:n(()=>[e(p,{modelValue:t.coverPageInfo.copyrightDescription,"onUpdate:modelValue":q[8]||(q[8]=v=>t.coverPageInfo.copyrightDescription=v),placeholder:"Copyright 설명을 입력해주세요"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["model-value"])}}}),Nt=pe(Dt,[["__scopeId","data-v-916d14e4"]]),Ot={style:{"padding-right":"40px","white-space":"nowrap",overflow:"hidden"}},Ft={class:"dialog-footer"},jt=ce({__name:"EnvironmentSettingDialog",setup(o,{expose:a}){const t=ue(new fe),d=M(!1),s=M(null),r=M({name:"",host:"",authToken:"",isSelected:!1}),f=U=>{r.value=He.getTableSelection(s,U)[0]},l=()=>{var I;if(!r.value){H.warning("설정항목을 선택해주세요.");return}const U=(I=r.value)==null?void 0:I.id;r.value.isSelected=!0,t.environmentSettingList.forEach(V=>{U===V.id?V.isSelected=!0:V.isSelected=!1}),Promise.all(t.environmentSettingList.map(V=>t.updateEnvironmentSetting(V))).then(V=>{X.success("저장 성공"),De().setEnvironmentSetting(r.value),q()}).catch(V=>{H.error(V)})},b=()=>{q()},q=()=>{d.value=!1,s.value.clearSelection()},p=async()=>{await t.getEnvironmentSettingList(),t.environmentSettingList.forEach(U=>{U.isSelected&&s.value.toggleRowSelection(U,!0)})};a({openDialog:async()=>{d.value=!0,p()}});const x=M({name:"",host:"",authToken:"",isSelected:!1}),g=M(!1),v=M(""),c=U=>{U?(x.value=Object.assign({},x.value,U),v.value="환경 설정 수정"):v.value="환경 설정 등록",g.value=!0},k=()=>{g.value=!1,x.value={name:"",host:"",authToken:"",isSelected:!1},v.value=""},L=()=>{v.value.includes("등록")?t.createEnvironmentSetting(x.value).then(U=>{X.success("저장 성공"),k(),p()}).catch(U=>{H.error(U)}):t.updateEnvironmentSetting(x.value).then(U=>{X.success("수정 성공"),k(),p()}).catch(U=>{H.error(U)})},C=U=>{he("환경설정을 삭제 하시겠습니까?","확인","CONFIRM_YN").onConfirm(()=>{t.deleteEnvironmentSetting(U.id).then(I=>{X.success("삭제 성공"),p()}).catch(I=>{H.error(I)})}).onCancel(()=>{})},$=(U,I)=>{X.success(`내용을 복사 하였습니다. 
  ${U[I.property]}`),navigator.clipboard.writeText(U[I.property])};return(U,I)=>{const V=be,h=Le,T=Ve,R=qe,E=ge,z=ke,O=Te,W=Me;return P(),te(Pe,null,[e(me(Ee),{"model-value":d.value,title:"환경 설정",description:"",width:"1000",style:{height:"70%"},buttonTypes:["저장","취소"],onOnSave:l,onOnCancel:b,onOnClose:q},{default:n(()=>[e(h,{total:t.environmentSettingList.length??0,"bottom-line":""},{default:n(()=>[e(V,{type:"primary",onClick:c},{default:n(()=>I[4]||(I[4]=[A("등록",-1)])),_:1,__:[4]})]),_:1},8,["total"]),e(R,{data:t.environmentSettingList,ref_key:"tableRef",ref:s,onSelectionChange:f,onCellDblclick:$},{default:n(()=>[e(T,{type:"selection",width:"40"}),e(T,{label:"NO",type:"index",width:"60"}),e(T,{label:"Name",prop:"name",width:"150"}),e(T,{label:"Host",prop:"host"}),e(T,{label:"AuthToken",prop:"authToken"},{default:n(({row:S})=>[w("div",Ot,Q(S.authToken),1)]),_:1}),e(T,{width:"120px"},{default:n(({row:S})=>[e(V,{text:"",icon:"Edit",onClick:ye=>c(S)},null,8,["onClick"]),e(V,{text:"",type:"danger",icon:"Delete",onClick:ye=>C(S)},null,8,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1},8,["model-value"]),e(W,{modelValue:g.value,"onUpdate:modelValue":I[3]||(I[3]=S=>g.value=S),title:v.value,width:"600px",top:"180px",onClose:k},{footer:n(()=>[w("span",Ft,[e(V,{onClick:k,class:"POST"},{default:n(()=>I[5]||(I[5]=[A("취소",-1)])),_:1,__:[5]}),e(V,{type:"primary",onClick:L,class:"POST"},{default:n(()=>I[6]||(I[6]=[A("확인",-1)])),_:1,__:[6]})])]),default:n(()=>[e(O,{class:"detail-form",model:x.value,ref:"ruleFormRef","label-position":"left",size:"large","label-width":"auto","require-asterisk-position":"right"},{default:n(()=>[e(z,{prop:"name",label:"Name"},{default:n(()=>[e(E,{modelValue:x.value.name,"onUpdate:modelValue":I[0]||(I[0]=S=>x.value.name=S),placeholder:"Name을 입력해주세요"},null,8,["modelValue"])]),_:1}),e(z,{prop:"host",label:"Host"},{default:n(()=>[e(E,{modelValue:x.value.host,"onUpdate:modelValue":I[1]||(I[1]=S=>x.value.host=S),placeholder:"Host를 입력해주세요"},null,8,["modelValue"])]),_:1}),e(z,{prop:"token",label:"AuthToken"},{default:n(()=>[e(E,{type:"text",modelValue:x.value.authToken,"onUpdate:modelValue":I[2]||(I[2]=S=>x.value.authToken=S),placeholder:"AuthToken을 입력해주세요"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])],64)}}}),$t=pe(jt,[["__scopeId","data-v-6eab7a3c"]]),Mt={class:"dialog-footer"},Ht=ce({__name:"FolderDialog",emits:["onConfirm"],setup(o,{expose:a,emit:t}){const d=new fe,s=M(""),r=M(!1),f=M({folderId:"",parentFolderId:"",folderName:"",requestURL:"",isOpen:!0,children:[]}),l={folderName:[{required:!0,trigger:"blur"}],requestURL:[{required:!0,trigger:"blur"}]},b=(x,g)=>{r.value=!0,s.value="폴더"+x,g&&x==="수정"?f.value={...g}:(g&&x==="추가"&&(f.value.parentFolderId=g.folderId),f.value.folderId=d.createId())},q=t,p=()=>{q("onConfirm",f.value),m()},m=()=>{r.value=!1,f.value={folderId:"",parentFolderId:"",folderName:"",requestURL:"",isOpen:!0,children:[]}};return a({openDialog:b}),(x,g)=>{const v=ge,c=ke,k=Te,L=be,C=Me;return P(),Y(C,{modelValue:r.value,"onUpdate:modelValue":g[2]||(g[2]=$=>r.value=$),title:"폴더 등록",width:"500px",onClose:m},{footer:n(()=>[w("span",Mt,[e(L,{onClick:m,class:"POST"},{default:n(()=>g[3]||(g[3]=[A("취소",-1)])),_:1,__:[3]}),e(L,{type:"primary",onClick:p,class:"POST"},{default:n(()=>g[4]||(g[4]=[A("확인",-1)])),_:1,__:[4]})])]),default:n(()=>[e(k,{ref:"regForm",rules:l,model:f.value,"label-position":"left","label-width":"80px"},{default:n(()=>[e(c,{label:"폴더 명",prop:"title"},{default:n(()=>[e(v,{modelValue:f.value.folderName,"onUpdate:modelValue":g[0]||(g[0]=$=>f.value.folderName=$),"show-word-limit":"",maxlength:"20"},null,8,["modelValue"])]),_:1}),e(c,{label:"경로"},{default:n(()=>[e(v,{modelValue:f.value.requestURL,"onUpdate:modelValue":g[1]||(g[1]=$=>f.value.requestURL=$),"show-word-limit":"",maxlength:"50"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])}}}),Yt=pe(Ht,[["__scopeId","data-v-8de194b2"]]),zt={class:"folders"},Bt={class:"colletions-title"},Gt={style:{display:"flex",gap:"8px"}},Jt={class:"folder-item"},Xt={class:"folder-item-label"},Kt={class:"folder-btn"},Qt=ce({__name:"FolderTree",emits:["onClikNode"],setup(o,{emit:a}){const t=ue(new fe),d={children:"children",label:"folderName"},s=M(null);it(()=>{t.getFolders()});const r=x=>{x.id?t.updateFolder(x).then(g=>{H.success("성공","폴더 수정 성공!"),t.getFolders()}):t.createFolder(x).then(g=>{H.success("성공","폴더 추가 성공!"),t.getFolders()})},f=()=>{s.value.openDialog("추가")},l=x=>{s.value.openDialog("추가",x)},b=x=>{s.value.openDialog("수정",x)},q=x=>{if(x.children.length>0){H.warning("폴더 아래 자식 폴더가 있습니다. 자식 폴더를 먼저 삭제 하시고 다시 진행해 주세요.");return}he(x.folderName+" 폴더를 삭제 하시겠습니까?","확인","CONFIRM_YN").onConfirm(()=>{x.id&&t.deleteFolder(x.id).then(g=>{H.success("성공","삭제 성공!"),t.getFolders()})}).onCancel(()=>{})},p=a,m=x=>{x.children.length&&(x.isOpen=!x.isOpen),p("onClikNode",x.requestURL)};return(x,g)=>{const v=de("FolderAdd"),c=Ue,k=Ye,L=de("FolderOpened"),C=de("Folder"),$=de("FolderRemove"),U=de("Edit"),I=dt;return P(),te(Pe,null,[w("div",zt,[w("div",Bt,[g[0]||(g[0]=A(" 폴더 목록 ",-1)),w("div",Gt,[e(k,{content:"Add Folder","hide-after":0},{default:n(()=>[e(c,{size:20,onClick:f},{default:n(()=>[e(v,{style:{width:"18px",height:"18px",cursor:"pointer"}})]),_:1})]),_:1})])]),e(I,{class:"tree",ref:"treeRef","node-key":"folderId",data:t.treeFolders,props:d,"highlight-current":"","default-expand-all":"",onNodeClick:m},{default:n(({node:V,data:h})=>[w("div",Jt,[w("div",Xt,[h.isOpen?(P(),Y(c,{key:0},{default:n(()=>[e(L)]),_:1})):(P(),Y(c,{key:1},{default:n(()=>[e(C)]),_:1})),A(" "+Q(V.label),1)]),w("div",Kt,[e(k,{content:"Add Folder","hide-after":0},{default:n(()=>[e(c,{onClick:Se(T=>l(h),["stop"])},{default:n(()=>[e(v)]),_:2},1032,["onClick"])]),_:2},1024),e(k,{content:"Remove Folder","hide-after":0},{default:n(()=>[e(c,{onClick:Se(T=>q(h),["stop"])},{default:n(()=>[e($)]),_:2},1032,["onClick"])]),_:2},1024),e(k,{content:"Edit Folder","hide-after":0},{default:n(()=>[e(c,{onClick:Se(T=>b(h),["stop"])},{default:n(()=>[e(U)]),_:2},1032,["onClick"])]),_:2},1024)])])]),_:1},8,["data"])]),e(Yt,{ref_key:"folderDialogRef",ref:s,onOnConfirm:r},null,512)],64)}}}),Zt=pe(Qt,[["__scopeId","data-v-b47b284d"]]),Wt={class:"dialog-footer"},el={style:{display:"flex",gap:"20px","justify-content":"flex-start"}},tl={style:{display:"flex",width:"100%",gap:"8px"}},ll={key:0,style:{display:"flex",width:"250px"}},al={style:{display:"flex","flex-direction":"column",width:"100%",gap:"8px"}},nl={key:0},ol={key:1,style:{display:"flex",width:"100%"}},sl={class:"upload__button-box"},rl={class:"upload-filename"},il={style:{display:"flex","align-items":"center",cursor:"pointer"}},dl={key:2,style:{cursor:"not-allowed"}},ul={style:{display:"flex","flex-direction":"column",width:"100%",gap:"8px"}},cl={style:{width:"100%"}},pl={contenteditable:"true"},fl={style:{width:"100%"}},yl={class:"code-block"},vl=ce({__name:"EditDialog",emits:["refreshData"],setup(o,{expose:a,emit:t}){const d=ue(new fe),s=()=>new Date().getTime().toString(),r=M(!1),f=M(),l=M(d.apiItem),b=M(null),q=[{label:"Y",value:"Y"},{label:"N",value:"N"}],p=ut(()=>{let i=[];return l.value.httpMethod==="GET"||l.value.httpMethod==="DELETE"?i=[{label:"Number",value:"number"},{label:"String",value:"string"},{label:"Boolean",value:"boolean"}]:l.value.headersContentType==="form-data"?i=[{label:"Number",value:"number"},{label:"String",value:"string"},{label:"Boolean",value:"boolean"},{label:"Object",value:"object"},{label:"Object Array",value:"object array"},{label:"Number Array",value:"number array"},{label:"String Array",value:"string array"},{label:"File",value:"file"}]:i=[{label:"Number",value:"number"},{label:"String",value:"string"},{label:"Boolean",value:"boolean"},{label:"Object",value:"object"},{label:"Object Array",value:"object array"},{label:"Number Array",value:"number array"},{label:"String Array",value:"string array"}],i}),m=[{label:"Number",value:"number"},{label:"String",value:"string"},{label:"Boolean",value:"boolean"},{label:"Object",value:"object"},{label:"Object Array",value:"object array"},{label:"Number Array",value:"number array"},{label:"String Array",value:"string array"}],x=M({interfaceName:{required:!0,message:"Interface Name을 입력하세요.",trigger:["change","blur"]},requestURL:{required:!0,message:"Request URL를 입력하세요.",trigger:["change","blur"]},httpMethod:{required:!0,message:"HTTP Method를 선택하세요.",trigger:["change","blur"]},clientType:{required:!0,message:"Client Type을 선택하세요",trigger:["change","blur"]},headersContentType:{required:!0,message:"Headers Content-Type을 선택하세요.",trigger:["change","blur"]}}),g=i=>{l.value.request.filter(_=>_.parameter===i.parameter&&i.level===_.level).length>1?(i.valid=!1,X.error("중복된 parameter: "+i.parameter)):i.valid=!0},v=i=>{l.value.response.filter(_=>_.variable===i.variable&&i.level===_.level).length>1?(i.valid=!1,X.error("중복된 variable: "+i.variable)):i.valid=!0},c=i=>{V(i)},k=()=>{l.value.request.push({paramId:s(),parentParamId:"",parameter:"",testValue:null,files:[],level:1,requiredYn:"",type:"",description:"",childrenCount:0,valid:!0})},L=i=>{if(i.row.level>=3){H.warning("최대 뎁스 레벨 초과 하였습니다.");return}let y=l.value.request.filter(F=>F.parentParamId===i.row.paramId),_=0;y.length>0&&y.forEach(F=>{_+=F.childrenCount}),l.value.request.forEach(F=>{F.paramId===i.row.paramId&&(F.childrenCount+=1)});let N=i.$index+y.length+_+1;l.value.request.splice(N,0,{paramId:s(),parentParamId:i.row.paramId,parameter:"",testValue:null,files:[],level:i.row.level+1,requiredYn:"",type:"",description:"",childrenCount:0,valid:!0})},C=i=>{if(i.row.childrenCount>0){H.error("자식 변수가 있습니다. 자식 변수를 먼저 삭제한 후 다시 시도하세요.");return}l.value.request.forEach(y=>{i.row.parentParamId===y.paramId&&(y.childrenCount-=1)}),l.value.request=l.value.request.filter((y,_)=>_!==i.$index)},$=()=>{l.value.response.push({variableId:s(),parentVariableId:"",variable:"",testValue:null,level:1,requiredYn:"",type:"",description:"",childrenCount:0,valid:!0})},U=i=>{if(i.row.level>=4){H.warning("최대 뎁스 레벨 초과 하였습니다.");return}let y=l.value.response.filter(F=>F.parentVariableId===i.row.variableId),_=0;y.length>0&&y.forEach(F=>{_+=F.childrenCount}),l.value.response.forEach(F=>{F.variableId===i.row.variableId&&(F.childrenCount+=1)});let N=i.$index+y.length+_+1;l.value.response.splice(N,0,{variableId:s(),parentVariableId:i.row.variableId,variable:"",testValue:null,level:i.row.level+1,requiredYn:"",type:"",description:"",childrenCount:0,valid:!0})},I=i=>{if(i.row.childrenCount>0){H.error("자식 변수가 있습니다. 자식 변수를 먼저 삭제한 후 다시 시도하세요.");return}l.value.response.forEach(y=>{i.row.parentVariableId===y.variableId&&(y.childrenCount-=1)}),l.value.response=l.value.response.filter((y,_)=>_!==i.$index)},V=i=>{i.valid=!0,i.requiredYn==="Y"&&!i.testValue?(X.error("Test Value를 입력하세요."),i.valid=!1):i.parameter?i.type?i.type==="boolean"&&i.testValue!=="true"&&i.testValue!=="false"?i.requiredYn==="N"&&!i.testValue?i.valid=!0:(i.valid=!1,X.error("Boolean(true/false)을 입력하세요.")):i.type==="number"&&Number.isNaN(Number(i.testValue))&&(X.error("숫자를 입력하세요."),i.valid=!1):(i.valid=!1,X.error(`"${i.parameter}"  Data Type을 선택하세요.`)):(i.valid=!1,X.error("Parameter를 입력하세요"))},h=i=>{let y={};return i.request.forEach(_=>{if(!_.type){X.error(`"${_.parameter}"  Data Type을 선택하세요.`);return}if(_.level===1){const N={[_.parameter]:T(_.testValue,_.type,_.paramId,_.parameter,_.files)};y=Object.assign({},y,N)}}),y};function T(i,y,_,N,F){let j=null;if(y==="string"&&(j=i),y==="number"&&(j=Number(i)),y==="boolean"&&(j=!!i),y==="object"){const K={};l.value.request.forEach(B=>{B.parentParamId===_&&(K[B.parameter]=T(B.testValue,B.type,B.paramId,B.parameter))}),j=K}if(y==="object array"){const K={};l.value.request.forEach(B=>{B.parentParamId===_&&(K[B.parameter]=T(B.testValue,B.type,B.paramId,B.parameter))}),j=[K]}if(y==="number array"||y==="string array")try{j=JSON.parse(i.replace(/'/g,'"'))}catch{j="The value is wrong~~~!",X.error(`Parameter: ${N} 의 Test Value를 잘못 입력했습니다. 다시 입력해주세요.`)}if(y==="file"){const K=[];F&&F.length>0&&F.forEach(B=>{K.push(B.raw)}),j=K}return j}const R=i=>{let y=!0;return i.request.forEach(_=>{_.type||(X.error(`"${_.parameter}"  Data Type을 선택하세요.`),y=!1,_.valid=!1),_.parameter||(X.error("Parameter를 입력하세요."),y=!1,_.valid=!1),_.requiredYn==="Y"&&_.type!=="object"&&_.type!=="object array"&&!_.testValue&&(X.error(`Parameter: ${_.parameter}의 Test Value를 입력해주세요.`),y=!1,_.valid=!1)}),y},E=async()=>{if(!R(l.value))return;l.value.requestExample=h(l.value);const i={httpMethod:l.value.httpMethod,headersContentType:l.value.headersContentType,donwloadFileName:l.value.donwloadFileName,requestURL:l.value.requestURL,requestParams:l.value.requestExample};await d.sendData(i).then(y=>{H.success("Request successed!"),l.value.responseExample=d.resultData,l.value.httpMethod!=="GETFILE"&&z(l.value.response,d.resultData)}).catch(y=>{H.error("sendData ERROR---: ",y)})},z=(i,y)=>{if(y){const _=[];for(const N in y){const F={parentVariableName:"",variable:N,level:1,type:typeof y[N]};_.push(F),W(_,y[N])}O(_,i)}else H.error("Theres is no response data.")};function O(i,y){const _=[];y.forEach(N=>{const F=i.find(j=>j.variable===N.variable);F?F.type!==N.type&&_.push(`<div style="white-space: normal;">- 응답한 데이터에 Data type이 일치하지 않은 변수: <strong>${N.variable}</strong></div>`):N.variable&&_.push(`<div style="white-space: normal;">- 응답한 데이터에 누락된 변수: <strong>${N.variable}</strong> </div>`)}),i.forEach(N=>{y.find(j=>j.variable===N.variable)||N.variable&&_.push(`<div style="white-space: normal;">- Response Variable에 요구하지 않은 변수: <strong>${N.variable}</strong></div>`)}),_.length>0&&yt.alert(`${_.join("")}`,"읍답 오류 데이터",{type:"warning",center:!0,dangerouslyUseHTMLString:!0})}function W(i,y){const _=i.length>0?i.length-1:null;if(_===null)return;const N=i[_];if(N.type.includes("object"))if(Array.isArray(y))if(typeof y[0]=="object")for(const F in y[0]){const j={parentVariableName:N.variable,variable:F,level:N.level+1,type:typeof y[0][F]};i.push(j),W(i,y[0][F]),i[_].type="object array"}else i[_].type=typeof y[0]+"array";else for(const F in y){const j={parentVariableName:N.variable,variable:F,level:N.level+1,type:typeof y[F]};i.push(j)}}const S=t,ye=()=>{l.value.testResult="",b.value.validate(i=>{var y,_;try{if(i){if((y=f.value)!=null&&y.innerText){const N=new Function(`return ${(_=f.value)==null?void 0:_.innerText}`);l.value.requestExample=N()}r.value?d.updateApi(l.value).then(N=>{H.success("수정 성공!","성공")}).catch(N=>{H.error("수정 실패!","실패")}):d.createApi(l.value).then(N=>{H.success("등록 성공!","성공")}).catch(N=>{H.error("등록 실패!","실패")})}}catch(N){H.error("저장한 데이터에 오타가 있는 것 같습니다. 확인 하시고 다시 저장해주세요. "+N)}})},ne=()=>{Et(l.value,l.value.interfaceName,"api excel")},se=(i,y)=>{y.length>1&&y.shift()},we=i=>{i.files=[]},xe=M(""),ve=M(!1);let oe=null;const Ce=(i,y)=>{d.getEnvironmentSetting(),ve.value=!0,xe.value="API "+i,y&&i==="수정"?(r.value=!0,oe=y.id,d.getApiInfo(oe).then(_=>{l.value=_})):r.value=!1},_e=()=>{var i;ve.value=!1,(i=b.value)==null||i.resetFields(),l.value.request=[],l.value.response=[],S("refreshData")};return a({openDialog:Ce}),(i,y)=>{const _=be,N=ct,F=Le,j=ge,K=ke,B=Ae,Z=Ve,Be=pt,Ge=Ye,Je=de("delete"),Xe=Ue,Oe=ft,Fe=qe,Ke=Te,Qe=Ee;return P(),Y(Qe,{"model-value":ve.value,title:xe.value,description:"",width:"90%",style:{height:"95%"},onOnClose:_e},{footer:n(()=>[w("span",Wt,[e(_,{onClick:_e,class:"POST"},{default:n(()=>y[7]||(y[7]=[A("닫기",-1)])),_:1,__:[7]}),e(_,{type:"primary",onClick:ye,class:"POST"},{default:n(()=>y[8]||(y[8]=[A("저장",-1)])),_:1,__:[8]})])]),default:n(()=>[e(Ke,{class:"editForm",ref_key:"ruleFormRef",ref:b,rules:x.value,model:l.value,"require-asterisk-position":"right","label-position":"left","label-width":"140"},{default:n(()=>[e(F,null,{default:n(()=>[e(N,{offset:45},{default:n(()=>[e(_,{onClick:E,type:"success",plain:""},{default:n(()=>y[9]||(y[9]=[A("Send",-1)])),_:1,__:[9]}),e(_,{onClick:ne},{default:n(()=>y[10]||(y[10]=[A("API Download",-1)])),_:1,__:[10]})]),_:1})]),_:1}),e(K,{label:"Interface Name",prop:"interfaceName"},{default:n(()=>[e(j,{type:"text",modelValue:l.value.interfaceName,"onUpdate:modelValue":y[0]||(y[0]=u=>l.value.interfaceName=u),placeholder:"Interface Name 입력"},null,8,["modelValue"])]),_:1}),e(K,{label:"Description",prop:"description"},{default:n(()=>[e(j,{type:"text",modelValue:l.value.description,"onUpdate:modelValue":y[1]||(y[1]=u=>l.value.description=u),placeholder:"Description 입력"},null,8,["modelValue"])]),_:1}),e(K,{label:"Request URL",prop:"requestURL"},{default:n(()=>[e(j,{type:"text",modelValue:l.value.requestURL,"onUpdate:modelValue":y[2]||(y[2]=u=>l.value.requestURL=u),placeholder:"Request URL 입력"},null,8,["modelValue"])]),_:1}),w("div",el,[e(K,{label:"HTTP Method",prop:"httpMethod"},{default:n(()=>[w("div",tl,[e(B,{width:"180px",modelValue:l.value.httpMethod,"onUpdate:modelValue":y[3]||(y[3]=u=>l.value.httpMethod=u),placeholder:"HTTP Method 선택",list:d.httpMethodList,"option-label":"label","option-value":"value"},null,8,["modelValue","list"]),l.value.httpMethod==="GETFILE"?(P(),te("div",ll,[e(j,{modelValue:l.value.donwloadFileName,"onUpdate:modelValue":y[4]||(y[4]=u=>l.value.donwloadFileName=u),placeholder:"Download File Name 입력"},null,8,["modelValue"])])):le("",!0)])]),_:1}),e(K,{label:"Client Type",prop:"clientType","label-width":"100",style:{"margin-left":"28px",width:"300px"}},{default:n(()=>[e(B,{modelValue:l.value.clientType,"onUpdate:modelValue":y[5]||(y[5]=u=>l.value.clientType=u),placeholder:"Client Type 선택",list:d.clientTypeList,"option-label":"label","option-value":"value"},null,8,["modelValue","list"])]),_:1}),e(K,{label:"Headers Content-Type",prop:"headersContentType","label-width":"180",style:{"margin-left":"28px",width:"400px"}},{default:n(()=>[e(B,{modelValue:l.value.headersContentType,"onUpdate:modelValue":y[6]||(y[6]=u=>l.value.headersContentType=u),placeholder:"Headers Content-Type 선택",list:d.headersContentTypeList,"option-label":"label","option-value":"value"},null,8,["modelValue","list"])]),_:1})]),e(K,{label:"Request"},{default:n(()=>[w("div",al,[e(Fe,{data:l.value.request,style:{"min-height":"160px"},height:"100%"},{default:n(()=>[e(Z,{prop:"parameter",width:"160px"},{default:n(({row:u})=>[w("div",{class:ie(!u.valid&&u.level==1?"valid-false":"")},[u.level==1?(P(),Y(j,{key:0,modelValue:u.parameter,"onUpdate:modelValue":D=>u.parameter=D,placeholder:"Parameter 입력",onInput:D=>g(u)},null,8,["modelValue","onUpdate:modelValue","onInput"])):le("",!0)],2)]),_:1}),e(Z,{prop:"parameter",width:"160px",label:"Parameter"},{default:n(({row:u})=>[w("div",{class:ie(!u.valid&&u.level==2?"valid-false":"")},[u.level==2?(P(),Y(j,{key:0,modelValue:u.parameter,"onUpdate:modelValue":D=>u.parameter=D,placeholder:"Parameter 입력",onInput:D=>g(u)},null,8,["modelValue","onUpdate:modelValue","onInput"])):le("",!0)],2)]),_:1}),e(Z,{prop:"parameter",width:"160px"},{default:n(({row:u})=>[w("div",{class:ie(!u.valid&&u.level==3?"valid-false":"")},[u.level==3?(P(),Y(j,{key:0,modelValue:u.parameter,"onUpdate:modelValue":D=>u.parameter=D,placeholder:"Parameter 입력",onInput:D=>g(u)},null,8,["modelValue","onUpdate:modelValue","onInput"])):le("",!0)],2)]),_:1}),e(Z,{prop:"requiredYn",label:"Required",width:"90"},{default:n(({row:u})=>[e(B,{width:"100%",modelValue:u.requiredYn,"onUpdate:modelValue":D=>u.requiredYn=D,placeholder:"Y/N",list:q,"option-label":"label","option-value":"value"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(Z,{prop:"type",label:"Type",width:"150"},{default:n(({row:u})=>[e(B,{width:"100%",modelValue:u.type,"onUpdate:modelValue":D=>u.type=D,placeholder:"Data Type",list:p.value,"option-label":"label","option-value":"value",onOnChange:D=>c(u)},null,8,["modelValue","onUpdate:modelValue","list","onOnChange"])]),_:1}),e(Z,{prop:"testValue",label:"Test Value"},{default:n(({row:u})=>{var D,je;return[u.type!=="object"&&u.type!=="object array"&&u.type!=="file"?(P(),te("div",nl,[e(j,{modelValue:u.testValue,"onUpdate:modelValue":re=>u.testValue=re,placeholder:"Test Value 입력","input-style":{textAlign:"center"},onInput:re=>V(u)},null,8,["modelValue","onUpdate:modelValue","onInput"])])):u.type=="file"?(P(),te("div",ol,[e(Be,{ref:"uploadRef","file-list":u.files,"onUpdate:fileList":re=>u.files=re,"auto-upload":!1,"show-file-list":!1,onChange:se},{default:n(()=>[w("div",sl,[e(_,{size:"small",type:"warning",plain:""},{default:n(()=>y[11]||(y[11]=[A("File",-1)])),_:1,__:[11]})])]),_:2},1032,["file-list","onUpdate:fileList"]),e(Ge,{disabled:!((D=u.files[0])!=null&&D.name),content:(je=u.files[0])==null?void 0:je.name,placement:"bottom",effect:"light"},{default:n(()=>{var re;return[w("div",rl,Q((re=u.files[0])==null?void 0:re.name),1)]}),_:2},1032,["disabled","content"]),w("div",il,[e(Xe,{onClick:re=>we(u)},{default:n(()=>[e(Je)]),_:2},1032,["onClick"])])])):(P(),te("div",dl,"-"))]}),_:1}),e(Z,{prop:"description",label:"Description"},{default:n(({row:u})=>[e(j,{type:"textarea",autosize:"",modelValue:u.description,"onUpdate:modelValue":D=>u.description=D,placeholder:"Description 입력"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(Z,{width:"100"},{default:n(u=>[e(Oe,null,{default:n(()=>[e(_,{text:"",icon:"delete",type:"danger",onClick:D=>C(u)},null,8,["onClick"]),Ie(e(_,{text:"",icon:"plus",type:"info",onClick:D=>L(u)},null,8,["onClick"]),[[$e,(u.row.type==="object array"||u.row.type==="object")&&u.row.level<3]])]),_:2},1024)]),_:1})]),_:1},8,["data"]),e(_,{class:"add-btn",onClick:k,type:"success",plain:""},{default:n(()=>y[12]||(y[12]=[A("Add",-1)])),_:1,__:[12]})])]),_:1}),e(K,{label:"Response"},{default:n(()=>[w("div",ul,[e(Fe,{data:l.value.response,style:{"min-height":"160px"},height:"100%"},{default:n(()=>[e(Z,{prop:"variable",width:"160px"},{default:n(({row:u})=>[w("div",{class:ie(!u.valid&&u.level==1?"valid-false":"")},[u.level==1?(P(),Y(j,{key:0,modelValue:u.variable,"onUpdate:modelValue":D=>u.variable=D,placeholder:"Variable 입력",onInput:D=>v(u)},null,8,["modelValue","onUpdate:modelValue","onInput"])):le("",!0)],2)]),_:1}),e(Z,{prop:"variable",width:"160px",label:"Variable"},{default:n(({row:u})=>[w("div",{class:ie(!u.valid&&u.level==2?"valid-false":"")},[u.level==2?(P(),Y(j,{key:0,modelValue:u.variable,"onUpdate:modelValue":D=>u.variable=D,placeholder:"Variable 입력",onInput:D=>v(u)},null,8,["modelValue","onUpdate:modelValue","onInput"])):le("",!0)],2)]),_:1}),e(Z,{prop:"variable",width:"160px"},{default:n(({row:u})=>[w("div",{class:ie(!u.valid&&u.level==3?"valid-false":"")},[u.level==3?(P(),Y(j,{key:0,modelValue:u.variable,"onUpdate:modelValue":D=>u.variable=D,placeholder:"Variable 입력",onInput:D=>v(u)},null,8,["modelValue","onUpdate:modelValue","onInput"])):le("",!0)],2)]),_:1}),e(Z,{prop:"variable"},{default:n(({row:u})=>[w("div",{class:ie(!u.valid&&u.level==4?"valid-false":"")},[u.level==4?(P(),Y(j,{key:0,modelValue:u.variable,"onUpdate:modelValue":D=>u.variable=D,placeholder:"Variable 입력",onInput:D=>v(u)},null,8,["modelValue","onUpdate:modelValue","onInput"])):le("",!0)],2)]),_:1}),e(Z,{prop:"requiredYn",label:"Required",width:"90"},{default:n(({row:u})=>[e(B,{width:"100%",modelValue:u.requiredYn,"onUpdate:modelValue":D=>u.requiredYn=D,placeholder:"Y/N",list:q,"option-label":"label","option-value":"value"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(Z,{prop:"type",label:"Type",width:"150"},{default:n(({row:u})=>[e(B,{width:"100%",modelValue:u.type,"onUpdate:modelValue":D=>u.type=D,placeholder:"Data Type",list:m,"option-label":"label","option-value":"value"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(Z,{prop:"description",label:"Description"},{default:n(({row:u})=>[e(j,{type:"textarea",autosize:"",modelValue:u.description,"onUpdate:modelValue":D=>u.description=D,placeholder:"Description 입력"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(Z,{width:"100"},{default:n(u=>[e(Oe,null,{default:n(()=>[e(_,{text:"",icon:"delete",type:"danger",onClick:D=>I(u)},null,8,["onClick"]),Ie(e(_,{text:"",icon:"plus",type:"info",onClick:D=>U(u)},null,8,["onClick"]),[[$e,(u.row.type==="object array"||u.row.type==="object")&&u.row.level<4]])]),_:2},1024)]),_:1})]),_:1},8,["data"]),e(_,{class:"add-btn",onClick:$,type:"success",plain:""},{default:n(()=>y[13]||(y[13]=[A("Add",-1)])),_:1,__:[13]})])]),_:1}),e(K,{label:"Request Example",prop:"requestExample"},{default:n(()=>[w("pre",cl,[w("code",pl,[w("div",{class:"code-block",ref_key:"requestCode",ref:f},Q(l.value.requestExample),513)])])]),_:1}),e(K,{label:"Response Example",prop:"responseExample"},{default:n(()=>[w("pre",fl,[y[14]||(y[14]=A("                ",-1)),w("code",null,[w("div",yl,Q(l.value.responseExample),1)]),y[15]||(y[15]=A(`
            `,-1))])]),_:1})]),_:1},8,["rules","model"])]),_:1},8,["model-value","title"])}}}),ml=pe(vl,[["__scopeId","data-v-696aee19"]]),hl={class:"content-body"},gl={style:{width:"17%",padding:"12px 8px"}},bl={style:{width:"50%"}},xl={class:"info-btn"},_l={key:1},Sl={style:{flex:"1",padding:"0 16px 16px 16px"}},ql={style:{width:"100%"}},Vl={contenteditable:"true"},El={style:{width:"100%","white-space":"pre-wrap","min-height":"160px","max-height":"590px",overflow:"scroll"}},Tl={contenteditable:"false"},kl=ce({__name:"index",setup(o){const a=ue(new fe),t=ue({requestURL:"",httpMethod:"",interfaceName:"",clientType:""}),d=M(null),s=M({interfaceName:"",requestURL:"",httpMethod:"",description:"",requestExample:"",responseExample:""});vt(async()=>{r(),await a.getEnvironmentSetting(),De().setEnvironmentSetting(a.environmentSetting)});const r=()=>{a.getApiList(t)},f=R=>{a.getApiList({requestURL:R})},l=()=>{c.value.forEach(async R=>{const E={httpMethod:R.httpMethod,headersContentType:R.headersContentType,requestURL:R.requestURL,requestParams:JSON.parse(R.requestExample)};await a.sendData(E).then(z=>{R.testResult=z.result===200?"성공":"실패",R.responseExample=z.data}).catch(z=>{R.testResult="실패",X.error(`ERROR:${z.result}, Message: ${z.message} `)})})},b=M(!1),q=M(null),p=()=>{var R;try{if(s.value.requestURL){b.value=!0;const E=new Function(`return ${(R=q.value)==null?void 0:R.innerText}`),z={httpMethod:s.value.httpMethod,headersContentType:s.value.headersContentType,requestURL:s.value.requestURL,requestParams:E()};s.value.responseExample=null,a.sendData(z).then(O=>{s.value.responseExample=O.data,s.value.testResult=O.result===200?"성공":"실패",H.success("Request success!")}).catch(O=>{s.value.responseExample=O,H.error("runApi ERROR: "+O)}),setTimeout(()=>{b.value=!1},200)}}catch(E){H.error("Code ERROR",E),b.value=!1}},m=M(null),x=()=>{var R;(R=m.value)==null||R.openDialog("등록")},g=R=>{var E;R.id&&((E=m.value)==null||E.openDialog("수정",R))},v=R=>{s.value={...R},s.value.requestExample=JSON.parse(R.requestExample),s.value.responseExample=JSON.parse(R.responseExample)},c=M([]),k=R=>{c.value=He.getTableSelection(d,R)},L=()=>{c.value.forEach(R=>{a.deleteApi(R.id)}),c.value=[],a.apiList=[],r()},C=async()=>{await a.getCoverPage(),await a.getHistoryList(),Tt(a.coverPageInfo,a.historyList,c.value,"api excel")},$=M(null),U=()=>{$.value.openDialog()},I=M(null),V=()=>{I.value.openDialog()},h=M(null),T=()=>{h.value.openDialog()};return(R,E)=>{const z=ht,O=Ae,W=mt,S=be,ye=Le,ne=Ve,se=bt,we=qe,xe=de("CaretRight"),ve=Ue,oe=_t,Ce=xt,_e=St;return P(),te(Pe,null,[e(me(qt),null,{default:n(()=>[e(W,{"on-search":r},{default:n(()=>[e(z,{width:"280px",label:"Request URL",placeholder:"Request URL 입력",modelValue:t.requestURL,"onUpdate:modelValue":E[0]||(E[0]=i=>t.requestURL=i)},null,8,["modelValue"]),e(z,{width:"300px",label:"Interface Name",placeholder:"Interface Name 입력",modelValue:t.interfaceName,"onUpdate:modelValue":E[1]||(E[1]=i=>t.interfaceName=i)},null,8,["modelValue"]),e(O,{label:"HTTP Method",width:"280px",modelValue:t.httpMethod,"onUpdate:modelValue":E[2]||(E[2]=i=>t.httpMethod=i),placeholder:"HTTP Method 선택",list:a.httpMethodList,"option-label":"label","option-value":"value"},null,8,["modelValue","list"]),e(O,{label:"Client Type",width:"250px",modelValue:t.clientType,"onUpdate:modelValue":E[3]||(E[3]=i=>t.clientType=i),placeholder:"Client Type 선택",list:a.clientTypeList,"option-label":"label","option-value":"value"},null,8,["modelValue","list"])]),_:1}),w("div",hl,[w("section",gl,[e(Zt,{onOnClikNode:f})]),w("section",bl,[e(ye,{title:"API 목록","bottom-line":""},{left:n(()=>[w("div",xl,[e(S,{icon:"Files",text:"",onClick:V},{default:n(()=>E[5]||(E[5]=[A("표지",-1)])),_:1,__:[5]}),e(S,{icon:"Files",text:"",onClick:U},{default:n(()=>E[6]||(E[6]=[A("개정이력",-1)])),_:1,__:[6]}),e(S,{icon:me(gt),text:"",onClick:T},{default:n(()=>E[7]||(E[7]=[A("Host설정",-1)])),_:1,__:[7]},8,["icon"])])]),default:n(()=>[e(S,{type:"success",plain:"",onClick:l},{default:n(()=>E[8]||(E[8]=[A("TEST",-1)])),_:1,__:[8]}),e(S,{type:"info",plain:"",onClick:x},{default:n(()=>E[9]||(E[9]=[A("등록",-1)])),_:1,__:[9]}),e(S,{type:"info",plain:"",onClick:L},{default:n(()=>E[10]||(E[10]=[A("삭제",-1)])),_:1,__:[10]}),e(S,{type:"info",plain:"",onClick:C},{default:n(()=>E[11]||(E[11]=[A("API Download",-1)])),_:1,__:[11]})]),_:1}),e(we,{ref_key:"tableRef",ref:d,multiple:"",data:a.apiList,onRowClick:v,onRowDblclick:g,onSelectionChange:k,"cell-style":{cursor:"pointer"},"header-cell-style":{height:"40px"},height:"100%"},{default:n(()=>[e(ne,{type:"selection",width:"40"}),e(ne,{label:"NO",type:"index",width:"60"}),e(ne,{label:"Interface Name",prop:"interfaceName",width:"160","show-overflow-tooltip":""}),e(ne,{label:"Request URL",prop:"requestURL","show-overflow-tooltip":""}),e(ne,{label:"Method",prop:"httpMethod",width:"80"},{default:n(({row:i})=>[i.httpMethod==="GET"?(P(),Y(se,{key:0,type:"success","disable-transitions":"",round:""},{default:n(()=>E[12]||(E[12]=[A("GET",-1)])),_:1,__:[12]})):le("",!0),i.httpMethod==="POST"?(P(),Y(se,{key:1,type:"primary","disable-transitions":"",round:""},{default:n(()=>E[13]||(E[13]=[A("POS",-1)])),_:1,__:[13]})):le("",!0),i.httpMethod==="PUT"?(P(),Y(se,{key:2,type:"warning","disable-transitions":"",round:""},{default:n(()=>E[14]||(E[14]=[A("PUT",-1)])),_:1,__:[14]})):le("",!0),i.httpMethod==="DELETE"?(P(),Y(se,{key:3,type:"danger","disable-transitions":"",round:""},{default:n(()=>E[15]||(E[15]=[A("DEL",-1)])),_:1,__:[15]})):le("",!0)]),_:1}),e(ne,{label:"Client Type",prop:"clientType",width:"120"}),e(ne,{label:"Test",prop:"testResult",sortable:"",width:"90"},{default:n(({row:i})=>[i.testResult==="성공"?(P(),Y(se,{key:0,type:"success",round:"","disable-transitions":""},{default:n(()=>[A(Q(i.testResult),1)]),_:2},1024)):i.testResult===""?(P(),te("span",_l,"-")):(P(),Y(se,{key:2,type:"danger",round:"","disable-transitions":""},{default:n(()=>[A(Q(i.testResult),1)]),_:2},1024))]),_:1})]),_:1},8,["data"])]),w("section",Sl,[e(ye,{title:"API 상세","bottom-line":""},{default:n(()=>[e(S,{type:"success",plain:"",onClick:p,disabled:!s.value.requestURL},{default:n(()=>[e(ve,null,{default:n(()=>[e(xe)]),_:1})]),_:1},8,["disabled"]),e(S,{onClick:E[4]||(E[4]=i=>g(s.value)),type:"info",plain:"",disabled:!s.value.requestURL},{default:n(()=>E[16]||(E[16]=[A("수정",-1)])),_:1,__:[16]},8,["disabled"])]),_:1}),Ie((P(),Y(Ce,{size:"large",column:1,border:""},{default:n(()=>[e(oe,{label:"Interface Name","label-align":"center"},{default:n(()=>[A(Q(s.value.interfaceName),1)]),_:1}),e(oe,{label:"Description","label-align":"center"},{default:n(()=>[A(Q(s.value.description),1)]),_:1}),e(oe,{label:"Request URL","label-align":"center"},{default:n(()=>[A(Q(s.value.requestURL),1)]),_:1}),e(oe,{label:"Http Method","label-align":"center"},{default:n(()=>[A(Q(s.value.httpMethod),1)]),_:1}),e(oe,{label:"Request Example","label-align":"center"},{default:n(()=>[w("pre",ql,[w("code",Vl,[w("div",{class:"code-block",ref_key:"requestCodeRef",ref:q},Q(s.value.requestExample),513)])])]),_:1}),e(oe,{label:"Response Example","label-align":"center"},{default:n(()=>[w("pre",El,[w("code",Tl,Q(s.value.responseExample),1)])]),_:1})]),_:1})),[[_e,b.value]])])])]),_:1}),e(Ut,{ref_key:"revisionHistoryDialogRef",ref:$},null,512),e(Nt,{ref_key:"coverPageDialogRef",ref:I},null,512),e($t,{ref_key:"environmentSettingDialogRef",ref:h},null,512),e(ml,{ref_key:"editDialogRef",ref:m,onRefreshData:r},null,512)],64)}}}),Rl=pe(kl,[["__scopeId","data-v-679cda46"]]);export{Rl as default};

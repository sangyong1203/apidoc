var Ze=Object.defineProperty;var We=(o,a,t)=>a in o?Ze(o,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[a]=t;var ee=(o,a,t)=>We(o,typeof a!="symbol"?a+"":a,t);import{N as et,r as $,O as ae,D as tt,P as lt,Q as at,S as nt,d as ce,p as ue,H as Y,a as A,f as n,T as w,b as e,U as I,V as Ve,W as qe,c as te,X as Q,Y as ge,Z as ot,$ as Ae,a0 as be,a1 as Se,e as me,a2 as Ee,a3 as st,a4 as he,a5 as M,a6 as X,a7 as pe,a8 as Te,a9 as ke,aa as rt,g as Pe,ab as Le,ac as Me,ad as He,o as it,G as de,ae as Ye,af as Ue,ag as dt,ah as ut,ai as ct,aj as le,ak as ie,al as pt,am as ft,an as Ie,ao as $e,ap as yt,aq as vt,ar as mt,as as ht,at as gt,au as bt,av as xt,aw as _t,ax as St,ay as Vt}from"./components-1OKi9Go0.js";const De=et("EnvironmentStore",()=>{const o=$({name:"",host:"",authToken:"",isSelected:!1});return{environmentSetting:o,setEnvironmentSetting:t=>{o.value=t}}},{persist:!0}),G={async sendApi(o){const a=De();let t=null;const d=a.environmentSetting.host,s=tt();if(s.loggedInUser.accessToken=a.environmentSetting.authToken??"",o.httpMethod==="GET"){const r={query:o.requestParams};t=await ae().get(d+o.requestURL,{payload:r})}if(o.httpMethod==="POST")if(o.headersContentType==="form-data"){const r=o.requestParams,f=new FormData;for(const b in r)Array.isArray(r[b])&&r[b].length>0&&r[b][0]instanceof File?r[b].forEach(V=>{f.append(b,V)}):f.append(b,r[b]);const l={body:f};t=await ae().post(d+o.requestURL,{payload:l,headers:{Authorization:s.loggedInUser.accessToken}})}else{const r={body:o.requestParams};t=await ae().post(d+o.requestURL,{payload:r,headers:{Authorization:s.loggedInUser.accessToken}})}if(o.httpMethod==="PUT"){const r={body:o.requestParams};t=await ae().put(d+o.requestURL,{payload:r,headers:{Authorization:s.loggedInUser.accessToken}})}if(o.httpMethod==="DELETE"){const r={body:o.requestParams};t=await ae().delete(d+o.requestURL,{payload:r,headers:{Authorization:s.loggedInUser.accessToken}})}if(o.httpMethod==="GETFILE"){const r={query:o.requestParams};t=await ae().getFile(d+o.requestURL,{payload:r,headers:{Authorization:s.loggedInUser.accessToken}}),lt(t.data,o.donwloadFileName??"fileDownLoad")}return t},async getApiList(o){return new Promise((a,t)=>{J().then(d=>{const r=d.transaction("apiTable","readonly").objectStore("apiTable");if(o.requestURL||o.httpMethod||o.interfaceName||o.clientType){const f=[],b=r.index("requestURL").openCursor();b.onsuccess=V=>{const c=V==null?void 0:V.target.result;if(c){const m=c.value;let x=!0;for(const[g,v]of Object.entries(o))m[g]&&v&&!m[g].includes(v)&&(x=!1);x&&f.push(m),c.continue()}else a(f)},b.onerror=V=>t(V.target.error)}else{const f=r.getAll();f.onsuccess=()=>a(f.result),f.onerror=l=>t(l.target.error)}}).catch(d=>{t(d)})})},async getApiInfo(o){return new Promise((a,t)=>{J().then(d=>{const f=d.transaction("apiTable","readonly").objectStore("apiTable").get(o);f.onsuccess=()=>{const l=f.result,b={...l,request:l.request.map(V=>({...V})),response:l.response.map(V=>({...V})),requestExample:JSON.parse(l.requestExample),responseExample:JSON.parse(l.responseExample)};a(b)},f.onerror=l=>t(l.target.error)}).catch(d=>{t(d)})})},async createApi(o){return new Promise((a,t)=>{J().then(d=>{try{const r=d.transaction("apiTable","readwrite").objectStore("apiTable"),f={...o,request:o.request.map(b=>({...b,files:[]})),response:o.response.map(b=>({...b})),requestExample:JSON.stringify(o.requestExample),responseExample:JSON.stringify(o.responseExample)},l=r.add(f);l.onsuccess=b=>{a(l.result)},l.onerror=b=>{t(b.target.error)}}catch(s){t(s)}}).catch(d=>{t(d)})})},async updateApi(o){return new Promise((a,t)=>{J().then(d=>{try{const r=d.transaction("apiTable","readwrite").objectStore("apiTable"),f={...o,request:o.request.map(b=>({...b,files:[]})),response:o.response.map(b=>({...b})),requestExample:JSON.stringify(o.requestExample),responseExample:JSON.stringify(o.responseExample)},l=r.put(f);l.onsuccess=b=>{a(l.result)},l.onerror=b=>{t(b.target.error)}}catch(s){t(s)}}).catch(d=>{t(d)})})},async deleteApi(o){const s=(await J()).transaction("apiTable","readwrite").objectStore("apiTable").delete(o);s.onsuccess=r=>{},s.onerror=r=>{}},async checkDuplicateApi(o){(await J()).transaction("apiTable","readonly").objectStore("apiTable")},async getMenuList(){return await ae().get("/api/setting/menu")},async createMenu(o){const a={body:o};return await ae().post("/api/setting/menu",{payload:a})},async updateMenu(o){const a={body:o};return await ae().put("/api/setting/menu",{payload:a})},async deleteMenu(o){const a={query:o};return await ae().delete("/api/setting/menu",{payload:a})},async getHistoryList(){return new Promise((o,a)=>{J().then(t=>{const r=t.transaction("revisionHistory","readonly").objectStore("revisionHistory").getAll();r.onsuccess=()=>o(r.result),r.onerror=f=>a(f.target.error)}).catch(t=>{a(t)})})},async createHistory(o){const d=(await J()).transaction("revisionHistory","readwrite").objectStore("revisionHistory"),s={...o},r=d.add(s);r.onsuccess=f=>{},r.onerror=f=>{}},async updateHistory(o){const d=(await J()).transaction("revisionHistory","readwrite").objectStore("revisionHistory"),s={...o},r=d.put(s);r.onsuccess=f=>{},r.onerror=f=>{}},async deleteHistory(o){const s=(await J()).transaction("revisionHistory","readwrite").objectStore("revisionHistory").delete(o);s.onsuccess=r=>{},s.onerror=r=>{}},async getCoverPage(){return new Promise((o,a)=>{J().then(t=>{const r=t.transaction("coverPage","readonly").objectStore("coverPage").getAll();r.onsuccess=()=>o(r.result[0]),r.onerror=f=>a(f.target.error)}).catch(t=>{a(t)})})},async createCoverPage(o){const d=(await J()).transaction("coverPage","readwrite").objectStore("coverPage"),s={...o},r=d.add(s);r.onsuccess=f=>{},r.onerror=f=>{}},async updateCoverPage(o){const d=(await J()).transaction("coverPage","readwrite").objectStore("coverPage"),s={...o},r=d.put(s);r.onsuccess=f=>{},r.onerror=f=>{}},async getEnvironmentSettingList(){return new Promise((o,a)=>{J().then(t=>{const r=t.transaction("environmentSetting","readonly").objectStore("environmentSetting").getAll();r.onsuccess=()=>o(r.result),r.onerror=f=>a(f.target.error)}).catch(t=>{a(t)})})},async getEnvironmentSetting(o){return new Promise((a,t)=>{J().then(d=>{const f=d.transaction("environmentSetting","readonly").objectStore("environmentSetting").get(o);f.onsuccess=()=>a(f.result),f.onerror=l=>t(l.target.error)}).catch(d=>{t(d)})})},async createEnvironmentSetting(o){const d=(await J()).transaction("environmentSetting","readwrite").objectStore("environmentSetting"),s={...o},r=d.add(s);r.onsuccess=f=>{},r.onerror=f=>{}},async updateEnvironmentSetting(o){const d=(await J()).transaction("environmentSetting","readwrite").objectStore("environmentSetting"),s={...o},r=d.put(s);r.onsuccess=f=>{},r.onerror=f=>{}},async deleteEnvironmentSetting(o){const s=(await J()).transaction("environmentSetting","readwrite").objectStore("environmentSetting").delete(o);s.onsuccess=r=>{},s.onerror=r=>{}},async getFolders(){return new Promise((o,a)=>{J().then(t=>{const r=t.transaction("folders","readonly").objectStore("folders").getAll();r.onsuccess=()=>{o(r.result)},r.onerror=f=>a(f.target.error)}).catch(t=>{a(t)})})},async createFolder(o){const d=(await J()).transaction("folders","readwrite").objectStore("folders"),s={...o,children:[]},r=d.add(s);r.onsuccess=f=>{},r.onerror=f=>{}},async updateFolder(o){const d=(await J()).transaction("folders","readwrite").objectStore("folders"),s={...o,children:[]},r=d.put(s);r.onsuccess=f=>{},r.onerror=f=>{}},async deleteFolder(o){const s=(await J()).transaction("folders","readwrite").objectStore("folders").delete(o);s.onsuccess=r=>{},s.onerror=r=>{}}};let Re=null;function J(){return Re?Promise.resolve(Re):new Promise((o,a)=>{const t=indexedDB.open("PostApiDB",6);t.onupgradeneeded=d=>{const s=d.target.result;if(!s.objectStoreNames.contains("apiTable")){const r=s.createObjectStore("apiTable",{keyPath:"id",autoIncrement:!0});r.createIndex("requestURL","requestURL",{unique:!1}),r.createIndex("interfaceName","interfaceName",{unique:!1})}s.objectStoreNames.contains("revisionHistory")||s.createObjectStore("revisionHistory",{keyPath:"id",autoIncrement:!0}),s.objectStoreNames.contains("coverPage")||s.createObjectStore("coverPage",{keyPath:"id",autoIncrement:!0}),s.objectStoreNames.contains("environmentSetting")||s.createObjectStore("environmentSetting",{keyPath:"id",autoIncrement:!0}),s.objectStoreNames.contains("folders")||s.createObjectStore("folders",{keyPath:"id",autoIncrement:!0})},t.onsuccess=d=>{Re=d.target.result,o(d.target.result)},t.onerror=d=>{a(d.target.error)}})}class fe{constructor(){ee(this,"apiList",[]);ee(this,"apiItem",{interfaceName:"",description:"",header:'{ "Authorization" : {{accessKey}} }',requestURL:"",httpMethod:"",donwloadFileName:"",clientType:"",headersContentType:"json",testResult:"",request:[{paramId:this.createId(),parentParamId:"",parameter:"",testValue:null,files:[],level:1,requiredYn:"",type:"",description:"",childrenCount:0,valid:!0}],response:[{variableId:this.createId(),parentVariableId:"",variable:"",testValue:null,level:1,requiredYn:"",type:"",description:"",childrenCount:0,valid:!0}],requestExample:{},responseExample:""});ee(this,"resultData",{});ee(this,"httpMethodList",[{label:"GET",value:"GET"},{label:"POST",value:"POST"},{label:"PUT",value:"PUT"},{label:"DELETE",value:"DELETE"},{label:"GETFILE",value:"GETFILE"}]);ee(this,"clientTypeList",[{label:"관제",value:"관제"},{label:"APP",value:"APP"},{label:"IoT",value:"IoT"},{label:"공통",value:"공통"},{label:"기타",value:"기타"}]);ee(this,"headersContentTypeList",[{label:"application/json",value:"json"},{label:"multipart/form-data",value:"form-data"}]);ee(this,"menuList",[]);ee(this,"menuItem",{id:0,title:"",titleEn:"",path:"",icon:"",stp:0,useYn:"Y"});ee(this,"historyList",[]);ee(this,"coverPageInfo",{title1:"",title2:"",version:"",publishDate:"",creater:"",reviewer:"",approver:"",copyright:"",copyrightDescription:""});ee(this,"environmentSetting",{name:"",host:"",authToken:"",isSelected:!1});ee(this,"environmentSettingList",[]);ee(this,"folders",[]);ee(this,"treeFolders",[])}async sendData(a){const{httpMethod:t,headersContentType:d,donwloadFileName:s,requestURL:r,requestParams:f}=a,l={httpMethod:t,headersContentType:d,donwloadFileName:s,requestURL:r,requestParams:f},b=await G.sendApi(l);return this.resultData=b.data,b}async getApiList(a){const t=await G.getApiList(a);this.apiList=t}async getApiInfo(a){return await G.getApiInfo(a)}async createApi(a){return await G.createApi(a)}async updateApi(a){return await G.updateApi(a)}async deleteApi(a){return await G.deleteApi(a)}createId(){return new Date().getTime().toString()}async getMenuList(){const a=await G.getMenuList();this.menuList=a.data[0].children??[]}async getHistoryList(){const a=await G.getHistoryList();this.historyList=a}async createHistory(a){return await G.createHistory(a)}async updateHistory(a){return await G.updateHistory(a)}async deleteHistory(a){return await G.deleteHistory(a)}async getCoverPage(){const a=await G.getCoverPage();this.coverPageInfo=Object.assign({},this.coverPageInfo,a)}async createCoverPage(a){return await G.createCoverPage(a)}async updateCoverPage(a){return await G.updateCoverPage(a)}async getEnvironmentSettingList(){const a=await G.getEnvironmentSettingList();this.environmentSettingList=a}async getEnvironmentSetting(){await this.getEnvironmentSettingList();const a=this.environmentSettingList.find(t=>t.isSelected===!0);this.environmentSetting=Object.assign({},this.environmentSetting,a)}async createEnvironmentSetting(a){return await G.createEnvironmentSetting(a)}async updateEnvironmentSetting(a){return await G.updateEnvironmentSetting(a)}async deleteEnvironmentSetting(a){return await G.deleteEnvironmentSetting(a)}async getFolders(){const a=await G.getFolders();if(a){this.treeFolders=[],this.folders=a;const t=new Map;this.folders.forEach(d=>{t.set(d.folderId,d)}),this.folders.forEach(d=>{if(!d.parentFolderId)this.treeFolders.push(d);else{const s=t.get(d.parentFolderId);s&&s.children.push(d)}})}}async createFolder(a){return await G.createFolder(a)}async updateFolder(a){return await G.updateFolder(a)}async deleteFolder(a){return await G.deleteFolder(a)}}let qt=at(()=>import("./XLSX.min-DlkljAZK.js"),[]),ze=document.createElement("script");ze.contains=qt;document.head.appendChild(ze);let Ne={};Ne.make=function(o,a){let t=XLSX.utils.book_new();t.Props={Title:a,Subject:a,Author:"Dev.monter",CreatedDate:new Date};let d=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","AA","AB","AC","AD","AE","AF","AG","AH","AI","AJ","AK","AL","AM","AN","AO","AP","AQ","AR","AS","AT","AU","AV","AW","AX","AY","AZ"];o.forEach(function(s){let r=0,f=s.data.length,l={},b=[];s.data.forEach(function(c,m){let x=m,g=-1;c.forEach(function(v){g++;for(let h=0;h<b.length;h++){let T=b[h];T.s.c<=g&&g<=T.e.c&&T.s.r<=x&&x<=T.e.r&&(g+=T.e.c-g+1)}let p=d[g]+String(x+1);l[p]||(l[p]={t:"s",v:v.text||"",s:{alignment:{wrapText:!0}},l:{Target:v.link||""}}),v.img&&(l["!images"]||(l["!images"]=[]),l["!images"].push({"!link":v.img.src,"!pos":{c:g,r:x,x:v.img.left,y:v.img.top,w:v.img.width,h:v.img.height},"!datatype":"remote"}));for(let h in v.style)switch(h){case"backgroundColor":l[p].s.fgColor={rgb:v.style[h].replace("#","")};break;case"border":var k=v.style[h].split(" "),L="",C=k[2].replace("#","");k[0]==="1px"?L="thin":k[0]==="2px"?L="medium":L="thick",v.colspan=v.colspan||1,v.rowspan=v.rowspan||1;for(let T=0;T<v.colspan;T++){let R=g+T,q=d[R]+String(x+1);l[q]||(l[q]={t:"s",s:{},v:"undefined"}),l[q].s.top={style:L,color:{rgb:C}},l[q].s.bottom={style:L,color:{rgb:C}},l[q].s.left={style:L,color:{rgb:C}},l[q].s.right={style:L,color:{rgb:C}},r<R&&(r=R);for(let P=0;P<v.rowspan;P++){let Z=x+1+P,E=d[R]+String(Z);l[E]||(l[E]={t:"s",s:{},v:"undefined"}),l[E].s.top={style:L,color:{rgb:C}},l[E].s.bottom={style:L,color:{rgb:C}},l[E].s.left={style:L,color:{rgb:C}},l[E].s.right={style:L,color:{rgb:C}},f<x+1+P&&(f=x+1+P)}}break;case"borderTop":case"borderLeft":case"borderBottom":case"borderRight":var j="";h==="borderTop"?j="top":h==="borderLeft"?j="left":h==="borderBottom"?j="bottom":h==="borderRight"&&(j="right");var U=v.style[h].split(" "),S="",H=U[2].replace("#","");if(U[0]==="1px"?S="thin":U[0]==="2px"?S="medium":S="thick",l[p].s[j]={style:S,color:{rgb:H}},h==="borderTop"||h==="borderBottom")for(let T=1;T<v.colspan;T++){let R=d[g+T]+String(x+1);l[R]||(l[R]={t:"s",s:{},v:"undefined",z:"General"}),l[R].s[j]={style:S,color:{rgb:H}}}if(h==="borderLeft"||h==="borderRight")for(let T=1;T<v.rowspan;T++){let R=d[g]+String(x+1+T);l[R]||(l[R]={t:"s",s:{},v:"undefined",z:"General"}),l[R].s[j]={style:S,color:{rgb:H}}}break;case"textAlign":l[p].s.alignment||(l[p].s.alignment={}),l[p].s.alignment.horizontal=v.style[h];break;case"verticalAlign":switch(l[p].s.alignment||(l[p].s.alignment={}),v.style[h]){case"middle":l[p].s.alignment.vertical="center";break;default:l[p].s.alignment.vertical=v.style[h];break}break;case"width":l["!cols"]||(l["!cols"]=[]),typeof v.style[h]=="number"?l["!cols"][g]={wpx:v.style[h]}:v.style[h]==="auto"&&(l["!cols"][g]={auto:1});break;case"height":l["!rows"]||(l["!rows"]=[]),typeof v.style[h]=="number"?l["!rows"][x]={hpx:v.style[h]}:v.style[h]==="auto"&&(l["!rows"][x]={auto:1});break;case"fontSize":l[p].s.sz=v.style[h];break;case"underline":l[p].s.underline=v.style[h];break;case"color":l[p].s.color={theme:1,rgb:v.style[h].replace("#","")};break;case"fontFamily":l[p].s.name=v.style[h];break;case"fontWeight":v.style[h]==="bold"&&(l[p].s.bold=1);break;case"whiteSpace":v.style[h]==="nowrap"&&(l[p].s.alignment.wrapText=!1);break}if(v.colspan>1||v.rowspan>1){let h={c:g,r:x},T={c:v.colspan?g+v.colspan-1:g,r:v.rowspan?x+v.rowspan-1:x};b.push({s:h,e:T})}}),r<g&&(r=g)});let V=`A1:${d[r]}${f}`;l["!ref"]=V,l["!merges"]=b,t.SheetNames.push(s.name),t.Sheets[s.name]=l}),XLSX.writeFile(t,a+".xlsx",{cellStyles:!0,bookImages:!0,bookSST:!1})};const Et=(o,a,t)=>{const d=o.request,s=o.response,r={height:24,width:1},f={verticalAlign:"middle",textAlign:"center",backgroundColor:"#b8cce4",fontSize:18,fontWeight:"bold",border:"1px solid #000000",height:24},l={verticalAlign:"middle",textAlign:"center",backgroundColor:"#d1d1d1",fontSize:12,fontWeight:"bold",border:"1px solid #000000"},b={textAlign:"center",border:"1px solid #000000",verticalAlign:"middle",backgroundColor:"#f1f1f1",fontWeight:"bold",fontSize:10},V={textAlign:"center",border:"1px solid #000000",verticalAlign:"middle",backgroundColor:"#f1f1f1",fontSize:10,width:140,height:24},c={textAlign:"left",border:"1px solid #000000",verticalAlign:"middle",fontSize:10,width:140,height:24},m={width:140,fontSize:10,textAlign:"center",border:"1px solid #000000",verticalAlign:"middle"},x={height:400,verticalAlign:"middle",border:"1px solid #000000"},g={name:"Sheet1",data:[]};a&&(g.data.unshift([{style:r}]),g.data.unshift([{text:a,colspan:7,rowspan:2,style:Object.assign({},f)},{style:r}]));const v=[[{text:"인터페이스명",style:V},{text:o.interfaceName,colspan:6,style:c}],[{text:"설명",style:V},{text:o.description,colspan:6,style:c}],[{text:"Header",style:V},{text:o.header,colspan:6,style:c}],[{text:"Request URL",style:V},{text:o.requestURL,colspan:6,style:c}],[{text:"HTTP Method",style:V},{text:o.httpMethod,colspan:2,style:c},{text:"Required",style:V},{text:"Y: 필수",colspan:3,style:c}],[{text:"Request",colspan:7,style:Object.assign({},l,{height:30})}],[{text:"Parameter",colspan:4,style:b},{text:"Required",style:b},{text:"Type",style:b},{text:"Description",style:b}]];g.data.push(...v),d.forEach(p=>{p.level===1&&g.data.push([{text:p.parameter,style:m},{text:"",style:m},{text:"",style:m},{text:"",style:m},{text:p.requiredYn,style:m},{text:p.type,style:m},{text:p.description,style:m}]),p.level===2&&g.data.push([{text:"",style:m},{text:p.parameter,style:m},{text:"",style:m},{text:"",style:m},{text:p.requiredYn,style:m},{text:p.type,style:m},{text:p.description,style:m}]),p.level===3&&g.data.push([{text:"",style:m},{text:"",style:m},{text:p.parameter,style:m},{text:"",style:m},{text:p.requiredYn,style:m},{text:p.type,style:m},{text:p.description,style:m}]),p.level===4&&g.data.push([{text:"",style:m},{text:"",style:m},{text:"",style:m},{text:p.parameter,style:m},{text:p.requiredYn,style:m},{text:p.type,style:m},{text:p.description,style:m}])}),g.data.push([{text:"Response",colspan:7,style:Object.assign({},l,{height:30})}]),g.data.push([{text:"Variable",colspan:4,style:b},{text:"Required",style:b},{text:"Type",style:b},{text:"Description",style:b}]),s.forEach(p=>{p.level===1&&g.data.push([{text:p.variable,style:m},{text:"",style:m},{text:"",style:m},{text:"",style:m},{text:p.requiredYn,style:m},{text:p.type,style:m},{text:p.description,style:m}]),p.level===2&&g.data.push([{text:"",style:m},{text:p.variable,style:m},{text:"",style:m},{text:"",style:m},{text:p.requiredYn,style:m},{text:p.type,style:m},{text:p.description,style:m}]),p.level===3&&g.data.push([{text:"",style:m},{text:"",style:m},{text:p.variable,style:m},{text:"",style:m},{text:p.requiredYn,style:m},{text:p.type,style:m},{text:p.description,style:m}]),p.level===4&&g.data.push([{text:"",style:m},{text:"",style:m},{text:"",style:m},{text:p.variable,style:m},{text:p.requiredYn,style:m},{text:p.type,style:m},{text:p.description,style:m}])}),g.data.push([{text:"Request Example",colspan:7,style:Object.assign({},l,{height:30})}]),g.data.push([{text:`${o.requestExample?JSON.stringify(o.requestExample,null,2):""}`,colspan:7,style:x}]),g.data.push([{text:"Response Example",colspan:7,style:Object.assign({},l,{height:30})}]),g.data.push([{text:`${o.responseExample?JSON.stringify(o.responseExample,null,2):""}`,colspan:7,style:x}]),Ne.make([g],t)},Tt=(o,a,t,d)=>{const s={height:24,width:1},r={verticalAlign:"middle",textAlign:"center",backgroundColor:"#b8cce4",fontSize:18,fontWeight:"bold",borderLeft:"1px solid #000000",borderBottom:"1px solid #000000",borderTop:"1px solid #000000",height:24,fontFamily:"맑은 고딕"},f={verticalAlign:"middle",textAlign:"center",backgroundColor:"#d1d1d1",fontSize:11,fontWeight:"bold",border:"1px solid #000000",fontFamily:"맑은 고딕"},l={textAlign:"center",border:"1px solid #000000",verticalAlign:"middle",backgroundColor:"#f1f1f1",fontWeight:"bold",fontSize:10,fontFamily:"맑은 고딕"},b={textAlign:"center",border:"1px solid #000000",verticalAlign:"middle",backgroundColor:"#f1f1f1",fontSize:10,width:140,height:24,fontFamily:"맑은 고딕"},V={textAlign:"left",border:"1px solid #000000",verticalAlign:"middle",fontSize:10,width:140,height:24,fontFamily:"맑은 고딕"},c={width:140,fontSize:10,textAlign:"center",border:"1px solid #000000",verticalAlign:"middle",fontFamily:"맑은 고딕"},m={height:350,verticalAlign:"middle",border:"1px solid #000000"},x=[],g={verticalAlign:"center",textAlign:"left",fontSize:28,fontWeight:"bold",height:80,width:350,backgroundColor:"#f9f9f9",fontFamily:"맑은 고딕"},v={verticalAlign:"center",textAlign:"center",fontSize:11,height:20,width:140,border:"1px solid #000000",backgroundColor:"#f9f9f9",fontFamily:"맑은 고딕"},p={backgroundColor:"#f9f9f9",height:30},k={backgroundColor:"#f9f9f9",width:40},L={verticalAlign:"center",textAlign:"center",fontSize:8,height:24,backgroundColor:"#f9f9f9",fontFamily:"맑은 고딕"},C={name:"표지",data:[]};C.data.push([{text:"",colspan:8,style:p}]),C.data.push([{text:"",colspan:8,style:p}]),C.data.push([{text:"",colspan:8,style:p}]),C.data.push([{text:"",colspan:8,style:p}]),C.data.push([{text:"",style:k},{text:o.title1,colspan:7,style:Object.assign({},g)}]),C.data.push([{text:"",style:k},{text:o.title2,colspan:7,style:Object.assign({},g,{borderBottom:"1px solid #000000"})}]),C.data.push([{text:"",style:k},{text:o.version,colspan:7,style:Object.assign({},g,{fontSize:30})}]),C.data.push([{text:"",colspan:8,style:Object.assign({},p)}]),C.data.push([{text:"",colspan:5,style:p},{text:"배 포 일",style:v},{text:nt(o.publishDate).format("YYYY-MM-DD"),style:v},{text:"",style:k}]),C.data.push([{text:"",colspan:5,style:p},{text:"작 성 자",style:v},{text:o.creater,style:v},{text:"",style:k}]),C.data.push([{text:"",colspan:5,style:p},{text:"검 토 자",style:v},{text:o.reviewer,style:v},{text:"",style:k}]),C.data.push([{text:"",colspan:5,style:p},{text:"승 인 자",style:v},{text:o.approver,style:v},{text:"",style:k}]),C.data.push([{text:"",colspan:8,style:p}]),C.data.push([{text:"",colspan:8,style:p}]),C.data.push([{text:o.copyright,colspan:8,style:Object.assign({},L,{borderTop:"1px solid #000000"})}]),C.data.push([{text:o.copyrightDescription,colspan:8,style:Object.assign({},L)}]),x.push(C);const j={name:"개정이력",data:[]};j.data.unshift([{style:s}]),j.data.unshift([{text:j.name,colspan:7,rowspan:2,style:Object.assign({},r)},{style:s}]),j.data.push([{text:"버전",style:f},{text:"변경일",style:f},{text:"구분",style:f},{text:"내용",style:f},{text:"작성자",style:f},{text:"검토자",style:f},{text:"승인자",style:f}]),a.forEach(S=>{j.data.push([{text:S.version,style:c},{text:S.updateDate,style:c},{text:S.updateType,style:c},{text:S.content,style:Object.assign({},c,{width:500})},{text:S.creater,style:c},{text:S.reviewer,style:c},{text:S.approver,style:c}])}),x.push(j);const U={name:"인터페이스 목록",data:[]};U.data.unshift([{style:s}]),U.data.unshift([{text:U.name,colspan:5,rowspan:2,style:Object.assign({},r)},{style:s}]),U.data.push([{text:"인터페이스 명",style:f},{text:"Request URL",style:f},{text:"Http Method",style:f},{text:"설명",style:f},{text:"구분",style:f}]),t.forEach(S=>{U.data.push([{text:S.interfaceName,style:Object.assign({},c,{width:300})},{text:S.requestURL,link:`#'${S.interfaceName}'!G1`,style:Object.assign({},c,{underline:!0,width:400})},{text:S.httpMethod,style:c},{text:S.description,style:Object.assign({},c,{width:500})},{text:S.clientType,style:c}])}),x.push(U);for(const S of t){const H=S.request,h=S.response,T=S.requestExample?JSON.parse(S.requestExample):"",R=S.responseExample?JSON.parse(S.responseExample):"",q=S.interfaceName,P={name:S.interfaceName,data:[]};q&&(P.data.unshift([{style:s}]),P.data.unshift([{text:q,colspan:6,rowspan:2,style:Object.assign({},r)},{text:"목록",link:"#'인터페이스 목록'!A1",rowspan:2,style:{fontSize:12,textAlign:"center",backgroundColor:"#b8cce4",underline:!0,color:"red",borderRight:"1px solid #000000",verticalAlign:"middle"}},{style:s}]));const Z=[[{text:"인터페이스명",style:b},{text:S.interfaceName,colspan:6,style:V}],[{text:"설명",style:b},{text:S.description,colspan:6,style:V}],[{text:"Header",style:b},{text:S.header,colspan:6,style:V}],[{text:"Request URL",style:b},{text:S.requestURL,colspan:6,style:V}],[{text:"HTTP Method",style:b},{text:S.httpMethod,colspan:2,style:V},{text:"Required",style:b},{text:"Y: 필수",colspan:3,style:V}],[{text:"Request",colspan:7,style:Object.assign({},f,{height:30})}],[{text:"Parameter",colspan:4,style:l},{text:"Required",style:l},{text:"Type",style:l},{text:"Description",style:l}]];P.data.push(...Z),H.forEach(E=>{E.level===1&&P.data.push([{text:E.parameter,style:c},{text:"",style:c},{text:"",style:c},{text:"",style:c},{text:E.requiredYn,style:c},{text:E.type,style:c},{text:E.description,style:c}]),E.level===2&&P.data.push([{text:"",style:c},{text:E.parameter,style:c},{text:"",style:c},{text:"",style:c},{text:E.requiredYn,style:c},{text:E.type,style:c},{text:E.description,style:c}]),E.level===3&&P.data.push([{text:"",style:c},{text:"",style:c},{text:E.parameter,style:c},{text:"",style:c},{text:E.requiredYn,style:c},{text:E.type,style:c},{text:E.description,style:c}]),E.level===4&&P.data.push([{text:"",style:c},{text:"",style:c},{text:"",style:c},{text:E.parameter,style:c},{text:E.requiredYn,style:c},{text:E.type,style:c},{text:E.description,style:c}])}),P.data.push([{text:"Response",colspan:7,style:Object.assign({},f,{height:30})}]),P.data.push([{text:"Variable",colspan:4,style:l},{text:"Required",style:l},{text:"Type",style:l},{text:"Description",style:l}]),h.forEach(E=>{E.level===1&&P.data.push([{text:E.variable,style:c},{text:"",style:c},{text:"",style:c},{text:"",style:c},{text:E.requiredYn,style:c},{text:E.type,style:c},{text:E.description,style:c}]),E.level===2&&P.data.push([{text:"",style:c},{text:E.variable,style:c},{text:"",style:c},{text:"",style:c},{text:E.requiredYn,style:c},{text:E.type,style:c},{text:E.description,style:c}]),E.level===3&&P.data.push([{text:"",style:c},{text:"",style:c},{text:E.variable,style:c},{text:"",style:c},{text:E.requiredYn,style:c},{text:E.type,style:c},{text:E.description,style:c}]),E.level===4&&P.data.push([{text:"",style:c},{text:"",style:c},{text:"",style:c},{text:E.variable,style:c},{text:E.requiredYn,style:c},{text:E.type,style:c},{text:E.description,style:c}])}),P.data.push([{text:"Request Example",colspan:7,style:Object.assign({},f,{height:30})}]),P.data.push([{text:`${S.requestExample?JSON.stringify(T,null,2):""}`,colspan:7,style:m}]),P.data.push([{text:"Response Example",colspan:7,style:Object.assign({},f,{height:30})}]),P.data.push([{text:`${S.responseExample?JSON.stringify(R,null,2):""}`,colspan:7,style:m}]),x.push(P)}Ne.make(x,d)},kt={key:0},wt={key:0},Ct={key:0},Rt={key:0},It={key:0},At={key:0},Pt={key:0},Lt=ce({__name:"RevisionHistoryDialog",setup(o,{expose:a}){const t=ue(new fe),d=$(!1),s=()=>({version:"",updateDate:"",updateType:"",content:"",creater:"",reviewer:"",approver:""}),r=$(0),f=p=>{r.value=p.scrollTop},l=$(null),b=()=>{t.historyList.push(s()),st(()=>{l.value.setScrollTop(r.value+100)})},V=p=>{Object.keys(p.row).includes("id")?he("삭제하시겠습니까","확인","YN").onConfirm(()=>{t.deleteHistory(p.row.id).then(k=>{M.success("삭제 성공"),t.getHistoryList()}).catch(k=>{M.error(k)})}).onCancel(()=>{}):t.historyList.splice(p.$index,1)},c=()=>{const p=t.historyList.filter(L=>!("id"in L));let k=!0;p.forEach(L=>{if(!L.version||!L.updateType||!L.content||!L.creater){M.error("필수값이 누락되어 있습니다."),k=!1;return}}),k&&he("저장하시겠습니까","확인","YN").onConfirm(()=>{p.forEach(L=>{t.createHistory(L).then(C=>{X.success("저장 성공"),t.getHistoryList()}).catch(C=>{M.error(C)})})}).onCancel(()=>{})},m=(p,k)=>{p.updateType=k},x=()=>{g()},g=()=>{d.value=!1};return a({openDialog:async()=>{d.value=!0,t.getHistoryList()}}),(p,k)=>{const L=ge,C=qe,j=ot,U=Ae,S=be,H=Ve;return A(),Y(me(Ee),{"model-value":d.value,title:"개정이력",description:"",width:"1300",style:{height:"90%"},buttonTypes:["저장","취소"],onOnSave:c,onOnCancel:x,onOnClose:g},{default:n(()=>[k[6]||(k[6]=w("ol",{class:"page-description"},[w("li",null,[I(" 버전: 초안은 0.1으로 표시 하고, 검토 된 이후 승인을 득한 이후에는 1.0부터 시작하여 정수 단위로 변경 관리 함."),w("br"),I(" 변경 발생 시, 소수점 아래 번호로 관리하고, 목차 내용이 바뀔 정도의 큰 변경이 발생하면 상위 정수를 변경 함. (예, V1.2 : 2번 수정됨, 목차 내용이 변경되면 V2.0 이 됨) ")]),w("li",null,"구분 : 변경 내용이 이전 문서에 대해 신규/추가/수정/삭제 인지 선택 기입"),w("li",null,"내용 : 변경 내용을 자세히 기록(변경된 회의록, 면담 위치, 즉 페이지 번호와 변경 내용을 기술한다.)")],-1)),e(H,{ref_key:"tableRef",ref:l,data:t.historyList,onScroll:f},{default:n(()=>[e(C,{prop:"version",width:"80"},{header:n(()=>k[0]||(k[0]=[I(" 버전 "),w("span",{style:{color:"red"}},"*",-1)])),default:n(({row:h})=>[h.id?(A(),te("div",kt,Q(h.version),1)):(A(),Y(L,{key:1,modelValue:h.version,"onUpdate:modelValue":T=>h.version=T},null,8,["modelValue","onUpdate:modelValue"]))]),_:1}),e(C,{prop:"updateDate",label:"변경일",width:"150"},{default:n(({row:h})=>[h.id?(A(),te("div",wt,Q(h.updateDate),1)):(A(),Y(j,{key:1,width:"130px",modelValue:h.updateDate,"onUpdate:modelValue":T=>h.updateDate=T,type:"date",placeholder:"변경일 선택"},null,8,["modelValue","onUpdate:modelValue"]))]),_:1}),e(C,{prop:"updateType",width:"180"},{header:n(()=>k[1]||(k[1]=[I(" 구분 "),w("span",{style:{color:"red"}},"*",-1)])),default:n(({row:h})=>[h.id?(A(),te("div",Ct,Q(h.updateType),1)):(A(),Y(U,{key:1,width:"160px",modelValue:h.clientType,"onUpdate:modelValue":T=>h.clientType=T,placeholder:"Client Type 선택",list:t.clientTypeList,"option-label":"label","option-value":"value",onOnChange:T=>m(h,T)},null,8,["modelValue","onUpdate:modelValue","list","onOnChange"]))]),_:1}),e(C,{prop:"content"},{header:n(()=>k[2]||(k[2]=[I(" 내용 "),w("span",{style:{color:"red"}},"*",-1)])),default:n(({row:h})=>[h.id?(A(),te("div",Rt,Q(h.content),1)):(A(),Y(L,{key:1,modelValue:h.content,"onUpdate:modelValue":T=>h.content=T},null,8,["modelValue","onUpdate:modelValue"]))]),_:1}),e(C,{prop:"creater",width:"120"},{header:n(()=>k[3]||(k[3]=[I(" 작성자 "),w("span",{style:{color:"red"}},"*",-1)])),default:n(({row:h})=>[h.id?(A(),te("div",It,Q(h.creater),1)):(A(),Y(L,{key:1,modelValue:h.creater,"onUpdate:modelValue":T=>h.creater=T},null,8,["modelValue","onUpdate:modelValue"]))]),_:1}),e(C,{prop:"reviewer",label:"검토자",width:"120"},{default:n(({row:h})=>[h.id?(A(),te("div",At,Q(h.reviewer),1)):(A(),Y(L,{key:1,modelValue:h.reviewer,"onUpdate:modelValue":T=>h.reviewer=T},null,8,["modelValue","onUpdate:modelValue"]))]),_:1}),e(C,{prop:"approver",label:"승인자",width:"120"},{default:n(({row:h})=>[h.id?(A(),te("div",Pt,Q(h.approver),1)):(A(),Y(L,{key:1,modelValue:h.approver,"onUpdate:modelValue":T=>h.approver=T},null,8,["modelValue","onUpdate:modelValue"]))]),_:1}),e(C,{width:"120"},{default:n(h=>[e(S,{type:"danger",plain:"",onClick:Se(T=>V(h),["prevent"])},{default:n(()=>k[4]||(k[4]=[I(" 삭제 ")])),_:2,__:[4]},1032,["onClick"])]),_:1})]),_:1},8,["data"]),e(S,{type:"success",plain:"",style:{width:"100%"},onClick:b},{default:n(()=>k[5]||(k[5]=[I(" 추가 ")])),_:1,__:[5]})]),_:1,__:[6]},8,["model-value"])}}}),Ut=pe(Lt,[["__scopeId","data-v-7b0f9c7b"]]),Dt=ce({__name:"CoverPageDialog",setup(o,{expose:a}){const t=ue(new fe),d=$(!1),s=()=>{he("저장하시겠습니까","확인","YN").onConfirm(()=>{t.coverPageInfo.id?t.updateCoverPage(t.coverPageInfo).then(b=>{X.success("저장 성공"),f()}).catch(b=>{M.error(b)}):t.createCoverPage(t.coverPageInfo).then(b=>{X.success("저장 성공"),f()}).catch(b=>{M.error(b)})}).onCancel(()=>{})},r=()=>{f()},f=()=>{d.value=!1};return a({openDialog:async()=>{d.value=!0,t.getCoverPage()}}),(b,V)=>{const c=ge,m=ke,x=rt,g=Te;return A(),Y(me(Ee),{"model-value":d.value,title:"표지",description:"",width:"800",style:{height:"70%"},buttonTypes:["저장","취소"],onOnSave:s,onOnCancel:r,onOnClose:f},{default:n(()=>[e(g,{class:"detail-form",model:t.coverPageInfo,ref:"ruleFormRef","label-position":"left",size:"large","label-width":"auto","require-asterisk-position":"right"},{default:n(()=>[e(m,{prop:"title1",label:"타이틀1"},{default:n(()=>[e(c,{modelValue:t.coverPageInfo.title1,"onUpdate:modelValue":V[0]||(V[0]=v=>t.coverPageInfo.title1=v),placeholder:"타이틀을 입력해주세요"},null,8,["modelValue"])]),_:1}),e(m,{prop:"title2",label:"타이틀2"},{default:n(()=>[e(c,{modelValue:t.coverPageInfo.title2,"onUpdate:modelValue":V[1]||(V[1]=v=>t.coverPageInfo.title2=v),placeholder:"타이틀을 입력해주세요"},null,8,["modelValue"])]),_:1}),e(m,{prop:"version",label:"버전"},{default:n(()=>[e(c,{modelValue:t.coverPageInfo.version,"onUpdate:modelValue":V[2]||(V[2]=v=>t.coverPageInfo.version=v),placeholder:"버전을 입력해주세요"},null,8,["modelValue"])]),_:1}),e(m,{prop:"publishDate",label:"배포일"},{default:n(()=>[e(x,{modelValue:t.coverPageInfo.publishDate,"onUpdate:modelValue":V[3]||(V[3]=v=>t.coverPageInfo.publishDate=v),type:"date",placeholder:"배포일 선택"},null,8,["modelValue"])]),_:1}),e(m,{prop:"creater",label:"작성자"},{default:n(()=>[e(c,{modelValue:t.coverPageInfo.creater,"onUpdate:modelValue":V[4]||(V[4]=v=>t.coverPageInfo.creater=v),placeholder:"작성자를 입력해주세요"},null,8,["modelValue"])]),_:1}),e(m,{prop:"reviewer",label:"검토자"},{default:n(()=>[e(c,{modelValue:t.coverPageInfo.reviewer,"onUpdate:modelValue":V[5]||(V[5]=v=>t.coverPageInfo.reviewer=v),placeholder:"검토자를 입력해주세요"},null,8,["modelValue"])]),_:1}),e(m,{prop:"approver",label:"승인자"},{default:n(()=>[e(c,{modelValue:t.coverPageInfo.approver,"onUpdate:modelValue":V[6]||(V[6]=v=>t.coverPageInfo.approver=v),placeholder:"승인자를 입력해주세요"},null,8,["modelValue"])]),_:1}),e(m,{prop:"copyright",label:"Copyright"},{default:n(()=>[e(c,{modelValue:t.coverPageInfo.copyright,"onUpdate:modelValue":V[7]||(V[7]=v=>t.coverPageInfo.copyright=v),placeholder:"Copyright를 입력해주세요"},null,8,["modelValue"])]),_:1}),e(m,{prop:"copyrightDescription",label:"Copyright 설명"},{default:n(()=>[e(c,{modelValue:t.coverPageInfo.copyrightDescription,"onUpdate:modelValue":V[8]||(V[8]=v=>t.coverPageInfo.copyrightDescription=v),placeholder:"Copyright 설명을 입력해주세요"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["model-value"])}}}),Nt=pe(Dt,[["__scopeId","data-v-916d14e4"]]),Ot={style:{"padding-right":"40px","white-space":"nowrap",overflow:"hidden"}},Ft={class:"dialog-footer"},jt=ce({__name:"EnvironmentSettingDialog",setup(o,{expose:a}){const t=ue(new fe),d=$(!1),s=$(null),r=$({name:"",host:"",authToken:"",isSelected:!1}),f=U=>{r.value=He.getTableSelection(s,U)[0]},l=()=>{var S;if(!r.value){M.warning("설정항목을 선택해주세요.");return}const U=(S=r.value)==null?void 0:S.id;r.value.isSelected=!0,t.environmentSettingList.forEach(H=>{U===H.id?H.isSelected=!0:H.isSelected=!1}),Promise.all(t.environmentSettingList.map(H=>t.updateEnvironmentSetting(H))).then(H=>{X.success("저장 성공"),De().setEnvironmentSetting(r.value),V()}).catch(H=>{M.error(H)})},b=()=>{V()},V=()=>{d.value=!1,s.value.clearSelection()},c=async()=>{await t.getEnvironmentSettingList(),t.environmentSettingList.forEach(U=>{U.isSelected&&s.value.toggleRowSelection(U,!0)})};a({openDialog:async()=>{d.value=!0,c()}});const x=$({name:"",host:"",authToken:"",isSelected:!1}),g=$(!1),v=$(""),p=U=>{U?(x.value=Object.assign({},x.value,U),v.value="환경 설정 수정"):v.value="환경 설정 등록",g.value=!0},k=()=>{g.value=!1,x.value={name:"",host:"",authToken:"",isSelected:!1},v.value=""},L=()=>{v.value.includes("등록")?t.createEnvironmentSetting(x.value).then(U=>{X.success("저장 성공"),k(),c()}).catch(U=>{M.error(U)}):t.updateEnvironmentSetting(x.value).then(U=>{X.success("수정 성공"),k(),c()}).catch(U=>{M.error(U)})},C=U=>{he("환경설정을 삭제 하시겠습니까?","확인","CONFIRM_YN").onConfirm(()=>{t.deleteEnvironmentSetting(U.id).then(S=>{X.success("삭제 성공"),c()}).catch(S=>{M.error(S)})}).onCancel(()=>{})},j=(U,S)=>{X.success(`내용을 복사 하였습니다. 
  ${U[S.property]}`),navigator.clipboard.writeText(U[S.property])};return(U,S)=>{const H=be,h=Le,T=qe,R=Ve,q=ge,P=ke,Z=Te,E=Me;return A(),te(Pe,null,[e(me(Ee),{"model-value":d.value,title:"환경 설정",description:"",width:"1000",style:{height:"70%"},buttonTypes:["저장","취소"],onOnSave:l,onOnCancel:b,onOnClose:V},{default:n(()=>[e(h,{total:t.environmentSettingList.length??0,"bottom-line":""},{default:n(()=>[e(H,{type:"primary",onClick:p},{default:n(()=>S[4]||(S[4]=[I("등록")])),_:1,__:[4]})]),_:1},8,["total"]),e(R,{data:t.environmentSettingList,ref_key:"tableRef",ref:s,onSelectionChange:f,onCellDblclick:j},{default:n(()=>[e(T,{type:"selection",width:"40"}),e(T,{label:"NO",type:"index",width:"60"}),e(T,{label:"Name",prop:"name",width:"150"}),e(T,{label:"Host",prop:"host"}),e(T,{label:"AuthToken",prop:"authToken"},{default:n(({row:z})=>[w("div",Ot,Q(z.authToken),1)]),_:1}),e(T,{width:"120px"},{default:n(({row:z})=>[e(H,{text:"",icon:"Edit",onClick:ye=>p(z)},null,8,["onClick"]),e(H,{text:"",type:"danger",icon:"Delete",onClick:ye=>C(z)},null,8,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1},8,["model-value"]),e(E,{modelValue:g.value,"onUpdate:modelValue":S[3]||(S[3]=z=>g.value=z),title:v.value,width:"600px",top:"180px",onClose:k},{footer:n(()=>[w("span",Ft,[e(H,{onClick:k,class:"POST"},{default:n(()=>S[5]||(S[5]=[I("취소")])),_:1,__:[5]}),e(H,{type:"primary",onClick:L,class:"POST"},{default:n(()=>S[6]||(S[6]=[I("확인")])),_:1,__:[6]})])]),default:n(()=>[e(Z,{class:"detail-form",model:x.value,ref:"ruleFormRef","label-position":"left",size:"large","label-width":"auto","require-asterisk-position":"right"},{default:n(()=>[e(P,{prop:"name",label:"Name"},{default:n(()=>[e(q,{modelValue:x.value.name,"onUpdate:modelValue":S[0]||(S[0]=z=>x.value.name=z),placeholder:"Name을 입력해주세요"},null,8,["modelValue"])]),_:1}),e(P,{prop:"host",label:"Host"},{default:n(()=>[e(q,{modelValue:x.value.host,"onUpdate:modelValue":S[1]||(S[1]=z=>x.value.host=z),placeholder:"Host를 입력해주세요"},null,8,["modelValue"])]),_:1}),e(P,{prop:"token",label:"AuthToken"},{default:n(()=>[e(q,{type:"text",modelValue:x.value.authToken,"onUpdate:modelValue":S[2]||(S[2]=z=>x.value.authToken=z),placeholder:"AuthToken을 입력해주세요"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])],64)}}}),$t=pe(jt,[["__scopeId","data-v-6eab7a3c"]]),Mt={class:"dialog-footer"},Ht=ce({__name:"FolderDialog",emits:["onConfirm"],setup(o,{expose:a,emit:t}){const d=new fe,s=$(""),r=$(!1),f=$({folderId:"",parentFolderId:"",folderName:"",requestURL:"",isOpen:!0,children:[]}),l={folderName:[{required:!0,trigger:"blur"}],requestURL:[{required:!0,trigger:"blur"}]},b=(x,g)=>{r.value=!0,s.value="폴더"+x,g&&x==="수정"?f.value={...g}:(g&&x==="추가"&&(f.value.parentFolderId=g.folderId),f.value.folderId=d.createId())},V=t,c=()=>{V("onConfirm",f.value),m()},m=()=>{r.value=!1,f.value={folderId:"",parentFolderId:"",folderName:"",requestURL:"",isOpen:!0,children:[]}};return a({openDialog:b}),(x,g)=>{const v=ge,p=ke,k=Te,L=be,C=Me;return A(),Y(C,{modelValue:r.value,"onUpdate:modelValue":g[2]||(g[2]=j=>r.value=j),title:"폴더 등록",width:"500px",onClose:m},{footer:n(()=>[w("span",Mt,[e(L,{onClick:m,class:"POST"},{default:n(()=>g[3]||(g[3]=[I("취소")])),_:1,__:[3]}),e(L,{type:"primary",onClick:c,class:"POST"},{default:n(()=>g[4]||(g[4]=[I("확인")])),_:1,__:[4]})])]),default:n(()=>[e(k,{ref:"regForm",rules:l,model:f.value,"label-position":"left","label-width":"80px"},{default:n(()=>[e(p,{label:"폴더 명",prop:"title"},{default:n(()=>[e(v,{modelValue:f.value.folderName,"onUpdate:modelValue":g[0]||(g[0]=j=>f.value.folderName=j),"show-word-limit":"",maxlength:"20"},null,8,["modelValue"])]),_:1}),e(p,{label:"경로"},{default:n(()=>[e(v,{modelValue:f.value.requestURL,"onUpdate:modelValue":g[1]||(g[1]=j=>f.value.requestURL=j),"show-word-limit":"",maxlength:"50"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])}}}),Yt=pe(Ht,[["__scopeId","data-v-8de194b2"]]),zt={class:"folders"},Bt={class:"colletions-title"},Gt={style:{display:"flex",gap:"8px"}},Jt={class:"folder-item"},Xt={class:"folder-item-label"},Kt={class:"folder-btn"},Qt=ce({__name:"FolderTree",emits:["onClikNode"],setup(o,{emit:a}){const t=ue(new fe),d={children:"children",label:"folderName"},s=$(null);it(()=>{t.getFolders()});const r=x=>{x.id?t.updateFolder(x).then(g=>{M.success("성공","폴더 수정 성공!"),t.getFolders()}):t.createFolder(x).then(g=>{M.success("성공","폴더 추가 성공!"),t.getFolders()})},f=()=>{s.value.openDialog("추가")},l=x=>{s.value.openDialog("추가",x)},b=x=>{s.value.openDialog("수정",x)},V=x=>{if(x.children.length>0){M.warning("폴더 아래 자식 폴더가 있습니다. 자식 폴더를 먼저 삭제 하시고 다시 진행해 주세요.");return}he(x.folderName+" 폴더를 삭제 하시겠습니까?","확인","CONFIRM_YN").onConfirm(()=>{x.id&&t.deleteFolder(x.id).then(g=>{M.success("성공","삭제 성공!"),t.getFolders()})}).onCancel(()=>{})},c=a,m=x=>{x.children.length&&(x.isOpen=!x.isOpen),c("onClikNode",x.requestURL)};return(x,g)=>{const v=de("FolderAdd"),p=Ue,k=Ye,L=de("FolderOpened"),C=de("Folder"),j=de("FolderRemove"),U=de("Edit"),S=dt;return A(),te(Pe,null,[w("div",zt,[w("div",Bt,[g[0]||(g[0]=I(" 폴더 목록 ")),w("div",Gt,[e(k,{content:"Add Folder","hide-after":0},{default:n(()=>[e(p,{size:20,onClick:f},{default:n(()=>[e(v,{style:{width:"18px",height:"18px",cursor:"pointer"}})]),_:1})]),_:1})])]),e(S,{class:"tree",ref:"treeRef","node-key":"folderId",data:t.treeFolders,props:d,"highlight-current":"","default-expand-all":"",onNodeClick:m},{default:n(({node:H,data:h})=>[w("div",Jt,[w("div",Xt,[h.isOpen?(A(),Y(p,{key:0},{default:n(()=>[e(L)]),_:1})):(A(),Y(p,{key:1},{default:n(()=>[e(C)]),_:1})),I(" "+Q(H.label),1)]),w("div",Kt,[e(k,{content:"Add Folder","hide-after":0},{default:n(()=>[e(p,{onClick:Se(T=>l(h),["stop"])},{default:n(()=>[e(v)]),_:2},1032,["onClick"])]),_:2},1024),e(k,{content:"Remove Folder","hide-after":0},{default:n(()=>[e(p,{onClick:Se(T=>V(h),["stop"])},{default:n(()=>[e(j)]),_:2},1032,["onClick"])]),_:2},1024),e(k,{content:"Edit Folder","hide-after":0},{default:n(()=>[e(p,{onClick:Se(T=>b(h),["stop"])},{default:n(()=>[e(U)]),_:2},1032,["onClick"])]),_:2},1024)])])]),_:1},8,["data"])]),e(Yt,{ref_key:"folderDialogRef",ref:s,onOnConfirm:r},null,512)],64)}}}),Zt=pe(Qt,[["__scopeId","data-v-b47b284d"]]),Wt={class:"dialog-footer"},el={style:{display:"flex",gap:"20px","justify-content":"flex-start"}},tl={style:{display:"flex",width:"100%",gap:"8px"}},ll={key:0,style:{display:"flex",width:"250px"}},al={style:{display:"flex","flex-direction":"column",width:"100%",gap:"8px"}},nl={key:0},ol={key:1,style:{display:"flex",width:"100%"}},sl={class:"upload__button-box"},rl={class:"upload-filename"},il={style:{display:"flex","align-items":"center",cursor:"pointer"}},dl={key:2,style:{cursor:"not-allowed"}},ul={style:{display:"flex","flex-direction":"column",width:"100%",gap:"8px"}},cl={style:{width:"100%"}},pl={contenteditable:"true"},fl={style:{width:"100%"}},yl={class:"code-block"},vl=ce({__name:"EditDialog",emits:["refreshData"],setup(o,{expose:a,emit:t}){const d=ue(new fe),s=()=>new Date().getTime().toString(),r=$(!1),f=$(),l=$(d.apiItem),b=$(null),V=[{label:"Y",value:"Y"},{label:"N",value:"N"}],c=ut(()=>{let i=[];return l.value.httpMethod==="GET"||l.value.httpMethod==="DELETE"?i=[{label:"Number",value:"number"},{label:"String",value:"string"},{label:"Boolean",value:"boolean"}]:l.value.headersContentType==="form-data"?i=[{label:"Number",value:"number"},{label:"String",value:"string"},{label:"Boolean",value:"boolean"},{label:"Object",value:"object"},{label:"Object Array",value:"object array"},{label:"Number Array",value:"number array"},{label:"String Array",value:"string array"},{label:"File",value:"file"}]:i=[{label:"Number",value:"number"},{label:"String",value:"string"},{label:"Boolean",value:"boolean"},{label:"Object",value:"object"},{label:"Object Array",value:"object array"},{label:"Number Array",value:"number array"},{label:"String Array",value:"string array"}],i}),m=[{label:"Number",value:"number"},{label:"String",value:"string"},{label:"Boolean",value:"boolean"},{label:"Object",value:"object"},{label:"Object Array",value:"object array"},{label:"Number Array",value:"number array"},{label:"String Array",value:"string array"}],x=$({interfaceName:{required:!0,message:"Interface Name을 입력하세요.",trigger:["change","blur"]},requestURL:{required:!0,message:"Request URL를 입력하세요.",trigger:["change","blur"]},httpMethod:{required:!0,message:"HTTP Method를 선택하세요.",trigger:["change","blur"]},clientType:{required:!0,message:"Client Type을 선택하세요",trigger:["change","blur"]},headersContentType:{required:!0,message:"Headers Content-Type을 선택하세요.",trigger:["change","blur"]}}),g=i=>{l.value.request.filter(_=>_.parameter===i.parameter&&i.level===_.level).length>1?(i.valid=!1,X.error("중복된 parameter: "+i.parameter)):i.valid=!0},v=i=>{l.value.response.filter(_=>_.variable===i.variable&&i.level===_.level).length>1?(i.valid=!1,X.error("중복된 variable: "+i.variable)):i.valid=!0},p=i=>{H(i)},k=()=>{l.value.request.push({paramId:s(),parentParamId:"",parameter:"",testValue:null,files:[],level:1,requiredYn:"",type:"",description:"",childrenCount:0,valid:!0})},L=i=>{if(i.row.level>=3){M.warning("최대 뎁스 레벨 초과 하였습니다.");return}let y=l.value.request.filter(O=>O.parentParamId===i.row.paramId),_=0;y.length>0&&y.forEach(O=>{_+=O.childrenCount}),l.value.request.forEach(O=>{O.paramId===i.row.paramId&&(O.childrenCount+=1)});let N=i.$index+y.length+_+1;l.value.request.splice(N,0,{paramId:s(),parentParamId:i.row.paramId,parameter:"",testValue:null,files:[],level:i.row.level+1,requiredYn:"",type:"",description:"",childrenCount:0,valid:!0})},C=i=>{if(i.row.childrenCount>0){M.error("자식 변수가 있습니다. 자식 변수를 먼저 삭제한 후 다시 시도하세요.");return}l.value.request.forEach(y=>{i.row.parentParamId===y.paramId&&(y.childrenCount-=1)}),l.value.request=l.value.request.filter((y,_)=>_!==i.$index)},j=()=>{l.value.response.push({variableId:s(),parentVariableId:"",variable:"",testValue:null,level:1,requiredYn:"",type:"",description:"",childrenCount:0,valid:!0})},U=i=>{if(i.row.level>=4){M.warning("최대 뎁스 레벨 초과 하였습니다.");return}let y=l.value.response.filter(O=>O.parentVariableId===i.row.variableId),_=0;y.length>0&&y.forEach(O=>{_+=O.childrenCount}),l.value.response.forEach(O=>{O.variableId===i.row.variableId&&(O.childrenCount+=1)});let N=i.$index+y.length+_+1;l.value.response.splice(N,0,{variableId:s(),parentVariableId:i.row.variableId,variable:"",testValue:null,level:i.row.level+1,requiredYn:"",type:"",description:"",childrenCount:0,valid:!0})},S=i=>{if(i.row.childrenCount>0){M.error("자식 변수가 있습니다. 자식 변수를 먼저 삭제한 후 다시 시도하세요.");return}l.value.response.forEach(y=>{i.row.parentVariableId===y.variableId&&(y.childrenCount-=1)}),l.value.response=l.value.response.filter((y,_)=>_!==i.$index)},H=i=>{i.valid=!0,i.requiredYn==="Y"&&!i.testValue?(X.error("Test Value를 입력하세요."),i.valid=!1):i.parameter?i.type?i.type==="boolean"&&i.testValue!=="true"&&i.testValue!=="false"?i.requiredYn==="N"&&!i.testValue?i.valid=!0:(i.valid=!1,X.error("Boolean(true/false)을 입력하세요.")):i.type==="number"&&Number.isNaN(Number(i.testValue))&&(X.error("숫자를 입력하세요."),i.valid=!1):(i.valid=!1,X.error(`"${i.parameter}"  Data Type을 선택하세요.`)):(i.valid=!1,X.error("Parameter를 입력하세요"))},h=i=>{let y={};return i.request.forEach(_=>{if(!_.type){X.error(`"${_.parameter}"  Data Type을 선택하세요.`);return}if(_.level===1){const N={[_.parameter]:T(_.testValue,_.type,_.paramId,_.parameter,_.files)};y=Object.assign({},y,N)}}),y};function T(i,y,_,N,O){let F=null;if(y==="string"&&(F=i),y==="number"&&(F=Number(i)),y==="boolean"&&(F=!!i),y==="object"){const K={};l.value.request.forEach(B=>{B.parentParamId===_&&(K[B.parameter]=T(B.testValue,B.type,B.paramId,B.parameter))}),F=K}if(y==="object array"){const K={};l.value.request.forEach(B=>{B.parentParamId===_&&(K[B.parameter]=T(B.testValue,B.type,B.paramId,B.parameter))}),F=[K]}if(y==="number array"||y==="string array")try{F=JSON.parse(i.replace(/'/g,'"'))}catch{F="The value is wrong~~~!",X.error(`Parameter: ${N} 의 Test Value를 잘못 입력했습니다. 다시 입력해주세요.`)}if(y==="file"){const K=[];O&&O.length>0&&O.forEach(B=>{K.push(B.raw)}),F=K}return F}const R=i=>{let y=!0;return i.request.forEach(_=>{_.type||(X.error(`"${_.parameter}"  Data Type을 선택하세요.`),y=!1,_.valid=!1),_.parameter||(X.error("Parameter를 입력하세요."),y=!1,_.valid=!1),_.requiredYn==="Y"&&_.type!=="object"&&_.type!=="object array"&&!_.testValue&&(X.error(`Parameter: ${_.parameter}의 Test Value를 입력해주세요.`),y=!1,_.valid=!1)}),y},q=async()=>{if(!R(l.value))return;l.value.requestExample=h(l.value);const i={httpMethod:l.value.httpMethod,headersContentType:l.value.headersContentType,donwloadFileName:l.value.donwloadFileName,requestURL:l.value.requestURL,requestParams:l.value.requestExample};await d.sendData(i).then(y=>{M.success("Request successed!"),l.value.responseExample=d.resultData,l.value.httpMethod!=="GETFILE"&&P(l.value.response,d.resultData)}).catch(y=>{M.error("sendData ERROR---: ",y)})},P=(i,y)=>{if(y){const _=[];for(const N in y){const O={parentVariableName:"",variable:N,level:1,type:typeof y[N]};_.push(O),E(_,y[N])}Z(_,i)}else M.error("Theres is no response data.")};function Z(i,y){const _=[];y.forEach(N=>{const O=i.find(F=>F.variable===N.variable);O?O.type!==N.type&&_.push(`<div style="white-space: normal;">- 응답한 데이터에 Data type이 일치하지 않은 변수: <strong>${N.variable}</strong></div>`):N.variable&&_.push(`<div style="white-space: normal;">- 응답한 데이터에 누락된 변수: <strong>${N.variable}</strong> </div>`)}),i.forEach(N=>{y.find(F=>F.variable===N.variable)||N.variable&&_.push(`<div style="white-space: normal;">- Response Variable에 요구하지 않은 변수: <strong>${N.variable}</strong></div>`)}),_.length>0&&yt.alert(`${_.join("")}`,"읍답 오류 데이터",{type:"warning",center:!0,dangerouslyUseHTMLString:!0})}function E(i,y){const _=i.length>0?i.length-1:null;if(_===null)return;const N=i[_];if(N.type.includes("object"))if(Array.isArray(y))if(typeof y[0]=="object")for(const O in y[0]){const F={parentVariableName:N.variable,variable:O,level:N.level+1,type:typeof y[0][O]};i.push(F),E(i,y[0][O]),i[_].type="object array"}else i[_].type=typeof y[0]+"array";else for(const O in y){const F={parentVariableName:N.variable,variable:O,level:N.level+1,type:typeof y[O]};i.push(F)}}const z=t,ye=()=>{l.value.testResult="",b.value.validate(i=>{var y,_;try{if(i){if((y=f.value)!=null&&y.innerText){const N=new Function(`return ${(_=f.value)==null?void 0:_.innerText}`);l.value.requestExample=N()}r.value?d.updateApi(l.value).then(N=>{M.success("수정 성공!","성공")}).catch(N=>{M.error("수정 실패!","실패")}):d.createApi(l.value).then(N=>{M.success("등록 성공!","성공")}).catch(N=>{M.error("등록 실패!","실패")})}}catch(N){M.error("저장한 데이터에 오타가 있는 것 같습니다. 확인 하시고 다시 저장해주세요. "+N)}})},ne=()=>{Et(l.value,l.value.interfaceName,"api excel")},se=(i,y)=>{y.length>1&&y.shift()},we=i=>{i.files=[]},xe=$(""),ve=$(!1);let oe=null;const Ce=(i,y)=>{d.getEnvironmentSetting(),ve.value=!0,xe.value="API "+i,y&&i==="수정"?(r.value=!0,oe=y.id,d.getApiInfo(oe).then(_=>{l.value=_})):r.value=!1},_e=()=>{var i;ve.value=!1,(i=b.value)==null||i.resetFields(),l.value.request=[],l.value.response=[],z("refreshData")};return a({openDialog:Ce}),(i,y)=>{const _=be,N=ct,O=Le,F=ge,K=ke,B=Ae,W=qe,Be=pt,Ge=Ye,Je=de("delete"),Xe=Ue,Oe=ft,Fe=Ve,Ke=Te,Qe=Ee;return A(),Y(Qe,{"model-value":ve.value,title:xe.value,description:"",width:"90%",style:{height:"95%"},onOnClose:_e},{footer:n(()=>[w("span",Wt,[e(_,{onClick:_e,class:"POST"},{default:n(()=>y[7]||(y[7]=[I("닫기")])),_:1,__:[7]}),e(_,{type:"primary",onClick:ye,class:"POST"},{default:n(()=>y[8]||(y[8]=[I("저장")])),_:1,__:[8]})])]),default:n(()=>[e(Ke,{class:"editForm",ref_key:"ruleFormRef",ref:b,rules:x.value,model:l.value,"require-asterisk-position":"right","label-position":"left","label-width":"140"},{default:n(()=>[e(O,null,{default:n(()=>[e(N,{offset:45},{default:n(()=>[e(_,{onClick:q,type:"success",plain:""},{default:n(()=>y[9]||(y[9]=[I("Send")])),_:1,__:[9]}),e(_,{onClick:ne},{default:n(()=>y[10]||(y[10]=[I("API Download")])),_:1,__:[10]})]),_:1})]),_:1}),e(K,{label:"Interface Name",prop:"interfaceName"},{default:n(()=>[e(F,{type:"text",modelValue:l.value.interfaceName,"onUpdate:modelValue":y[0]||(y[0]=u=>l.value.interfaceName=u),placeholder:"Interface Name 입력"},null,8,["modelValue"])]),_:1}),e(K,{label:"Description",prop:"description"},{default:n(()=>[e(F,{type:"text",modelValue:l.value.description,"onUpdate:modelValue":y[1]||(y[1]=u=>l.value.description=u),placeholder:"Description 입력"},null,8,["modelValue"])]),_:1}),e(K,{label:"Request URL",prop:"requestURL"},{default:n(()=>[e(F,{type:"text",modelValue:l.value.requestURL,"onUpdate:modelValue":y[2]||(y[2]=u=>l.value.requestURL=u),placeholder:"Request URL 입력"},null,8,["modelValue"])]),_:1}),w("div",el,[e(K,{label:"HTTP Method",prop:"httpMethod"},{default:n(()=>[w("div",tl,[e(B,{width:"180px",modelValue:l.value.httpMethod,"onUpdate:modelValue":y[3]||(y[3]=u=>l.value.httpMethod=u),placeholder:"HTTP Method 선택",list:d.httpMethodList,"option-label":"label","option-value":"value"},null,8,["modelValue","list"]),l.value.httpMethod==="GETFILE"?(A(),te("div",ll,[e(F,{modelValue:l.value.donwloadFileName,"onUpdate:modelValue":y[4]||(y[4]=u=>l.value.donwloadFileName=u),placeholder:"Download File Name 입력"},null,8,["modelValue"])])):le("",!0)])]),_:1}),e(K,{label:"Client Type",prop:"clientType","label-width":"100",style:{"margin-left":"28px",width:"300px"}},{default:n(()=>[e(B,{modelValue:l.value.clientType,"onUpdate:modelValue":y[5]||(y[5]=u=>l.value.clientType=u),placeholder:"Client Type 선택",list:d.clientTypeList,"option-label":"label","option-value":"value"},null,8,["modelValue","list"])]),_:1}),e(K,{label:"Headers Content-Type",prop:"headersContentType","label-width":"180",style:{"margin-left":"28px",width:"400px"}},{default:n(()=>[e(B,{modelValue:l.value.headersContentType,"onUpdate:modelValue":y[6]||(y[6]=u=>l.value.headersContentType=u),placeholder:"Headers Content-Type 선택",list:d.headersContentTypeList,"option-label":"label","option-value":"value"},null,8,["modelValue","list"])]),_:1})]),e(K,{label:"Request"},{default:n(()=>[w("div",al,[e(Fe,{data:l.value.request,style:{"min-height":"160px"},height:"100%"},{default:n(()=>[e(W,{prop:"parameter",width:"160px"},{default:n(({row:u})=>[w("div",{class:ie(!u.valid&&u.level==1?"valid-false":"")},[u.level==1?(A(),Y(F,{key:0,modelValue:u.parameter,"onUpdate:modelValue":D=>u.parameter=D,placeholder:"Parameter 입력",onInput:D=>g(u)},null,8,["modelValue","onUpdate:modelValue","onInput"])):le("",!0)],2)]),_:1}),e(W,{prop:"parameter",width:"160px",label:"Parameter"},{default:n(({row:u})=>[w("div",{class:ie(!u.valid&&u.level==2?"valid-false":"")},[u.level==2?(A(),Y(F,{key:0,modelValue:u.parameter,"onUpdate:modelValue":D=>u.parameter=D,placeholder:"Parameter 입력",onInput:D=>g(u)},null,8,["modelValue","onUpdate:modelValue","onInput"])):le("",!0)],2)]),_:1}),e(W,{prop:"parameter",width:"160px"},{default:n(({row:u})=>[w("div",{class:ie(!u.valid&&u.level==3?"valid-false":"")},[u.level==3?(A(),Y(F,{key:0,modelValue:u.parameter,"onUpdate:modelValue":D=>u.parameter=D,placeholder:"Parameter 입력",onInput:D=>g(u)},null,8,["modelValue","onUpdate:modelValue","onInput"])):le("",!0)],2)]),_:1}),e(W,{prop:"requiredYn",label:"Required",width:"90"},{default:n(({row:u})=>[e(B,{width:"100%",modelValue:u.requiredYn,"onUpdate:modelValue":D=>u.requiredYn=D,placeholder:"Y/N",list:V,"option-label":"label","option-value":"value"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(W,{prop:"type",label:"Type",width:"150"},{default:n(({row:u})=>[e(B,{width:"100%",modelValue:u.type,"onUpdate:modelValue":D=>u.type=D,placeholder:"Data Type",list:c.value,"option-label":"label","option-value":"value",onOnChange:D=>p(u)},null,8,["modelValue","onUpdate:modelValue","list","onOnChange"])]),_:1}),e(W,{prop:"testValue",label:"Test Value"},{default:n(({row:u})=>{var D,je;return[u.type!=="object"&&u.type!=="object array"&&u.type!=="file"?(A(),te("div",nl,[e(F,{modelValue:u.testValue,"onUpdate:modelValue":re=>u.testValue=re,placeholder:"Test Value 입력","input-style":{textAlign:"center"},onInput:re=>H(u)},null,8,["modelValue","onUpdate:modelValue","onInput"])])):u.type=="file"?(A(),te("div",ol,[e(Be,{ref:"uploadRef","file-list":u.files,"onUpdate:fileList":re=>u.files=re,"auto-upload":!1,"show-file-list":!1,onChange:se},{default:n(()=>[w("div",sl,[e(_,{size:"small",type:"warning",plain:""},{default:n(()=>y[11]||(y[11]=[I("File")])),_:1,__:[11]})])]),_:2},1032,["file-list","onUpdate:fileList"]),e(Ge,{disabled:!((D=u.files[0])!=null&&D.name),content:(je=u.files[0])==null?void 0:je.name,placement:"bottom",effect:"light"},{default:n(()=>{var re;return[w("div",rl,Q((re=u.files[0])==null?void 0:re.name),1)]}),_:2},1032,["disabled","content"]),w("div",il,[e(Xe,{onClick:re=>we(u)},{default:n(()=>[e(Je)]),_:2},1032,["onClick"])])])):(A(),te("div",dl,"-"))]}),_:1}),e(W,{prop:"description",label:"Description"},{default:n(({row:u})=>[e(F,{type:"textarea",autosize:"",modelValue:u.description,"onUpdate:modelValue":D=>u.description=D,placeholder:"Description 입력"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(W,{width:"100"},{default:n(u=>[e(Oe,null,{default:n(()=>[e(_,{text:"",icon:"delete",type:"danger",onClick:D=>C(u)},null,8,["onClick"]),Ie(e(_,{text:"",icon:"plus",type:"info",onClick:D=>L(u)},null,8,["onClick"]),[[$e,(u.row.type==="object array"||u.row.type==="object")&&u.row.level<3]])]),_:2},1024)]),_:1})]),_:1},8,["data"]),e(_,{class:"add-btn",onClick:k,type:"success",plain:""},{default:n(()=>y[12]||(y[12]=[I("Add")])),_:1,__:[12]})])]),_:1}),e(K,{label:"Response"},{default:n(()=>[w("div",ul,[e(Fe,{data:l.value.response,style:{"min-height":"160px"},height:"100%"},{default:n(()=>[e(W,{prop:"variable",width:"160px"},{default:n(({row:u})=>[w("div",{class:ie(!u.valid&&u.level==1?"valid-false":"")},[u.level==1?(A(),Y(F,{key:0,modelValue:u.variable,"onUpdate:modelValue":D=>u.variable=D,placeholder:"Variable 입력",onInput:D=>v(u)},null,8,["modelValue","onUpdate:modelValue","onInput"])):le("",!0)],2)]),_:1}),e(W,{prop:"variable",width:"160px",label:"Variable"},{default:n(({row:u})=>[w("div",{class:ie(!u.valid&&u.level==2?"valid-false":"")},[u.level==2?(A(),Y(F,{key:0,modelValue:u.variable,"onUpdate:modelValue":D=>u.variable=D,placeholder:"Variable 입력",onInput:D=>v(u)},null,8,["modelValue","onUpdate:modelValue","onInput"])):le("",!0)],2)]),_:1}),e(W,{prop:"variable",width:"160px"},{default:n(({row:u})=>[w("div",{class:ie(!u.valid&&u.level==3?"valid-false":"")},[u.level==3?(A(),Y(F,{key:0,modelValue:u.variable,"onUpdate:modelValue":D=>u.variable=D,placeholder:"Variable 입력",onInput:D=>v(u)},null,8,["modelValue","onUpdate:modelValue","onInput"])):le("",!0)],2)]),_:1}),e(W,{prop:"variable"},{default:n(({row:u})=>[w("div",{class:ie(!u.valid&&u.level==4?"valid-false":"")},[u.level==4?(A(),Y(F,{key:0,modelValue:u.variable,"onUpdate:modelValue":D=>u.variable=D,placeholder:"Variable 입력",onInput:D=>v(u)},null,8,["modelValue","onUpdate:modelValue","onInput"])):le("",!0)],2)]),_:1}),e(W,{prop:"requiredYn",label:"Required",width:"90"},{default:n(({row:u})=>[e(B,{width:"100%",modelValue:u.requiredYn,"onUpdate:modelValue":D=>u.requiredYn=D,placeholder:"Y/N",list:V,"option-label":"label","option-value":"value"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(W,{prop:"type",label:"Type",width:"150"},{default:n(({row:u})=>[e(B,{width:"100%",modelValue:u.type,"onUpdate:modelValue":D=>u.type=D,placeholder:"Data Type",list:m,"option-label":"label","option-value":"value"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(W,{prop:"description",label:"Description"},{default:n(({row:u})=>[e(F,{type:"textarea",autosize:"",modelValue:u.description,"onUpdate:modelValue":D=>u.description=D,placeholder:"Description 입력"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(W,{width:"100"},{default:n(u=>[e(Oe,null,{default:n(()=>[e(_,{text:"",icon:"delete",type:"danger",onClick:D=>S(u)},null,8,["onClick"]),Ie(e(_,{text:"",icon:"plus",type:"info",onClick:D=>U(u)},null,8,["onClick"]),[[$e,(u.row.type==="object array"||u.row.type==="object")&&u.row.level<4]])]),_:2},1024)]),_:1})]),_:1},8,["data"]),e(_,{class:"add-btn",onClick:j,type:"success",plain:""},{default:n(()=>y[13]||(y[13]=[I("Add")])),_:1,__:[13]})])]),_:1}),e(K,{label:"Request Example",prop:"requestExample"},{default:n(()=>[w("pre",cl,[w("code",pl,[w("div",{class:"code-block",ref_key:"requestCode",ref:f},Q(l.value.requestExample),513)])])]),_:1}),e(K,{label:"Response Example",prop:"responseExample"},{default:n(()=>[w("pre",fl,[y[14]||(y[14]=I("                ")),w("code",null,[w("div",yl,Q(l.value.responseExample),1)]),y[15]||(y[15]=I(`
            `))])]),_:1})]),_:1},8,["rules","model"])]),_:1},8,["model-value","title"])}}}),ml=pe(vl,[["__scopeId","data-v-696aee19"]]),hl={class:"content-body"},gl={style:{width:"17%",padding:"12px 8px"}},bl={style:{width:"50%"}},xl={class:"info-btn"},_l={key:1},Sl={style:{flex:"1",padding:"0 16px 16px 16px"}},Vl={style:{width:"100%"}},ql={contenteditable:"true"},El={style:{width:"100%","white-space":"pre-wrap","min-height":"160px","max-height":"590px",overflow:"scroll"}},Tl={contenteditable:"false"},kl=ce({__name:"index",setup(o){const a=ue(new fe),t=ue({requestURL:"",httpMethod:"",interfaceName:"",clientType:""}),d=$(null),s=$({interfaceName:"",requestURL:"",httpMethod:"",description:"",requestExample:"",responseExample:""});vt(async()=>{r(),await a.getEnvironmentSetting(),De().setEnvironmentSetting(a.environmentSetting)});const r=()=>{a.getApiList(t)},f=R=>{a.getApiList({requestURL:R})},l=()=>{p.value.forEach(async R=>{const q={httpMethod:R.httpMethod,headersContentType:R.headersContentType,requestURL:R.requestURL,requestParams:JSON.parse(R.requestExample)};await a.sendData(q).then(P=>{R.testResult=P.result===200?"성공":"실패",R.responseExample=P.data}).catch(P=>{R.testResult="실패",X.error(`ERROR:${P.result}, Message: ${P.message} `)})})},b=$(!1),V=$(null),c=()=>{var R;try{if(s.value.requestURL){b.value=!0;const q=new Function(`return ${(R=V.value)==null?void 0:R.innerText}`),P={httpMethod:s.value.httpMethod,headersContentType:s.value.headersContentType,requestURL:s.value.requestURL,requestParams:q()};s.value.responseExample=null,a.sendData(P).then(Z=>{s.value.responseExample=Z.data,s.value.testResult=Z.result===200?"성공":"실패",M.success("Request success!")}).catch(Z=>{s.value.responseExample=Z,M.error("runApi ERROR: "+Z)}),setTimeout(()=>{b.value=!1},200)}}catch(q){M.error("Code ERROR",q),b.value=!1}},m=$(null),x=()=>{var R;(R=m.value)==null||R.openDialog("등록")},g=R=>{var q;R.id&&((q=m.value)==null||q.openDialog("수정",R))},v=R=>{s.value={...R},s.value.requestExample=JSON.parse(R.requestExample),s.value.responseExample=JSON.parse(R.responseExample)},p=$([]),k=R=>{p.value=He.getTableSelection(d,R)},L=()=>{p.value.forEach(R=>{a.deleteApi(R.id)}),p.value=[],a.apiList=[],r()},C=async()=>{await a.getCoverPage(),await a.getHistoryList(),Tt(a.coverPageInfo,a.historyList,p.value,"api excel")},j=$(null),U=()=>{j.value.openDialog()},S=$(null),H=()=>{S.value.openDialog()},h=$(null),T=()=>{h.value.openDialog()};return(R,q)=>{const P=ht,Z=Ae,E=mt,z=be,ye=Le,ne=qe,se=bt,we=Ve,xe=de("CaretRight"),ve=Ue,oe=_t,Ce=xt,_e=St;return A(),te(Pe,null,[e(me(Vt),null,{default:n(()=>[e(E,{"on-search":r},{default:n(()=>[e(P,{width:"280px",label:"Request URL",placeholder:"Request URL 입력",modelValue:t.requestURL,"onUpdate:modelValue":q[0]||(q[0]=i=>t.requestURL=i)},null,8,["modelValue"]),e(P,{width:"300px",label:"Interface Name",placeholder:"Interface Name 입력",modelValue:t.interfaceName,"onUpdate:modelValue":q[1]||(q[1]=i=>t.interfaceName=i)},null,8,["modelValue"]),e(Z,{label:"HTTP Method",width:"280px",modelValue:t.httpMethod,"onUpdate:modelValue":q[2]||(q[2]=i=>t.httpMethod=i),placeholder:"HTTP Method 선택",list:a.httpMethodList,"option-label":"label","option-value":"value"},null,8,["modelValue","list"]),e(Z,{label:"Client Type",width:"250px",modelValue:t.clientType,"onUpdate:modelValue":q[3]||(q[3]=i=>t.clientType=i),placeholder:"Client Type 선택",list:a.clientTypeList,"option-label":"label","option-value":"value"},null,8,["modelValue","list"])]),_:1}),w("div",hl,[w("section",gl,[e(Zt,{onOnClikNode:f})]),w("section",bl,[e(ye,{title:"API 목록","bottom-line":""},{left:n(()=>[w("div",xl,[e(z,{icon:"Files",text:"",onClick:H},{default:n(()=>q[5]||(q[5]=[I("표지")])),_:1,__:[5]}),e(z,{icon:"Files",text:"",onClick:U},{default:n(()=>q[6]||(q[6]=[I("개정이력")])),_:1,__:[6]}),e(z,{icon:me(gt),text:"",onClick:T},{default:n(()=>q[7]||(q[7]=[I("환경설정")])),_:1,__:[7]},8,["icon"])])]),default:n(()=>[e(z,{type:"success",plain:"",onClick:l},{default:n(()=>q[8]||(q[8]=[I("TEST")])),_:1,__:[8]}),e(z,{type:"info",plain:"",onClick:x},{default:n(()=>q[9]||(q[9]=[I("등록")])),_:1,__:[9]}),e(z,{type:"info",plain:"",onClick:L},{default:n(()=>q[10]||(q[10]=[I("삭제")])),_:1,__:[10]}),e(z,{type:"info",plain:"",onClick:C},{default:n(()=>q[11]||(q[11]=[I("API Download")])),_:1,__:[11]})]),_:1}),e(we,{ref_key:"tableRef",ref:d,multiple:"",data:a.apiList,onRowClick:v,onRowDblclick:g,onSelectionChange:k,"cell-style":{cursor:"pointer"},"header-cell-style":{height:"40px"},height:"100%"},{default:n(()=>[e(ne,{type:"selection",width:"40"}),e(ne,{label:"NO",type:"index",width:"60"}),e(ne,{label:"Interface Name",prop:"interfaceName",width:"160","show-overflow-tooltip":""}),e(ne,{label:"Request URL",prop:"requestURL","show-overflow-tooltip":""}),e(ne,{label:"Method",prop:"httpMethod",width:"80"},{default:n(({row:i})=>[i.httpMethod==="GET"?(A(),Y(se,{key:0,type:"success","disable-transitions":"",round:""},{default:n(()=>q[12]||(q[12]=[I("GET")])),_:1,__:[12]})):le("",!0),i.httpMethod==="POST"?(A(),Y(se,{key:1,type:"primary","disable-transitions":"",round:""},{default:n(()=>q[13]||(q[13]=[I("POS")])),_:1,__:[13]})):le("",!0),i.httpMethod==="PUT"?(A(),Y(se,{key:2,type:"warning","disable-transitions":"",round:""},{default:n(()=>q[14]||(q[14]=[I("PUT")])),_:1,__:[14]})):le("",!0),i.httpMethod==="DELETE"?(A(),Y(se,{key:3,type:"danger","disable-transitions":"",round:""},{default:n(()=>q[15]||(q[15]=[I("DEL")])),_:1,__:[15]})):le("",!0)]),_:1}),e(ne,{label:"Client Type",prop:"clientType",width:"120"}),e(ne,{label:"Test",prop:"testResult",sortable:"",width:"90"},{default:n(({row:i})=>[i.testResult==="성공"?(A(),Y(se,{key:0,type:"success",round:"","disable-transitions":""},{default:n(()=>[I(Q(i.testResult),1)]),_:2},1024)):i.testResult===""?(A(),te("span",_l,"-")):(A(),Y(se,{key:2,type:"danger",round:"","disable-transitions":""},{default:n(()=>[I(Q(i.testResult),1)]),_:2},1024))]),_:1})]),_:1},8,["data"])]),w("section",Sl,[e(ye,{title:"API 상세","bottom-line":""},{default:n(()=>[e(z,{type:"success",plain:"",onClick:c,disabled:!s.value.requestURL},{default:n(()=>[e(ve,null,{default:n(()=>[e(xe)]),_:1})]),_:1},8,["disabled"]),e(z,{onClick:q[4]||(q[4]=i=>g(s.value)),type:"info",plain:"",disabled:!s.value.requestURL},{default:n(()=>q[16]||(q[16]=[I("수정")])),_:1,__:[16]},8,["disabled"])]),_:1}),Ie((A(),Y(Ce,{size:"large",column:1,border:""},{default:n(()=>[e(oe,{label:"Interface Name","label-align":"center"},{default:n(()=>[I(Q(s.value.interfaceName),1)]),_:1}),e(oe,{label:"Description","label-align":"center"},{default:n(()=>[I(Q(s.value.description),1)]),_:1}),e(oe,{label:"Request URL","label-align":"center"},{default:n(()=>[I(Q(s.value.requestURL),1)]),_:1}),e(oe,{label:"Http Method","label-align":"center"},{default:n(()=>[I(Q(s.value.httpMethod),1)]),_:1}),e(oe,{label:"Request Example","label-align":"center"},{default:n(()=>[w("pre",Vl,[w("code",ql,[w("div",{class:"code-block",ref_key:"requestCodeRef",ref:V},Q(s.value.requestExample),513)])])]),_:1}),e(oe,{label:"Response Example","label-align":"center"},{default:n(()=>[w("pre",El,[w("code",Tl,Q(s.value.responseExample),1)])]),_:1})]),_:1})),[[_e,b.value]])])])]),_:1}),e(Ut,{ref_key:"revisionHistoryDialogRef",ref:j},null,512),e(Nt,{ref_key:"coverPageDialogRef",ref:S},null,512),e($t,{ref_key:"environmentSettingDialogRef",ref:h},null,512),e(ml,{ref_key:"editDialogRef",ref:m,onRefreshData:r},null,512)],64)}}}),Rl=pe(kl,[["__scopeId","data-v-67939446"]]);export{Rl as default};
